var sa=Object.defineProperty;var na=(e,t,s)=>t in e?sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Fe=(e,t,s)=>(na(e,typeof t!="symbol"?t+"":t,s),s),cn=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var Z=(e,t,s)=>(cn(e,t,"read from private field"),s?s.call(e):t.get(e)),Ae=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},bs=(e,t,s,n)=>(cn(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s);var xe=(e,t,s)=>(cn(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function Gn(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}function Pe(e){if(P(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=oe(n)?aa(n):Pe(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(oe(e))return e;if(Y(e))return e}}const ia=/;(?![^(]*\))/g,oa=/:([^]+)/,ra=/\/\*.*?\*\//gs;function aa(e){const t={};return e.replace(ra,"").split(ia).forEach(s=>{if(s){const n=s.split(oa);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Pt(e){let t="";if(oe(e))t=e;else if(P(e))for(let s=0;s<e.length;s++){const n=Pt(e[s]);n&&(t+=n+" ")}else if(Y(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const la="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ca=Gn(la);function $o(e){return!!e||e===""}const he=e=>oe(e)?e:e==null?"":P(e)||Y(e)&&(e.toString===Io||!F(e.toString))?JSON.stringify(e,Oo,2):String(e),Oo=(e,t)=>t&&t.__v_isRef?Oo(e,t.value):At(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i])=>(s[`${n} =>`]=i,s),{})}:Ao(t)?{[`Set(${t.size})`]:[...t.values()]}:Y(t)&&!P(t)&&!Ro(t)?String(t):t,Q={},Ot=[],Me=()=>{},ua=()=>!1,fa=/^on[^a-z]/,zs=e=>fa.test(e),Zn=e=>e.startsWith("onUpdate:"),me=Object.assign,Xn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ha=Object.prototype.hasOwnProperty,H=(e,t)=>ha.call(e,t),P=Array.isArray,At=e=>qs(e)==="[object Map]",Ao=e=>qs(e)==="[object Set]",F=e=>typeof e=="function",oe=e=>typeof e=="string",Yn=e=>typeof e=="symbol",Y=e=>e!==null&&typeof e=="object",ko=e=>Y(e)&&F(e.then)&&F(e.catch),Io=Object.prototype.toString,qs=e=>Io.call(e),da=e=>qs(e).slice(8,-1),Ro=e=>qs(e)==="[object Object]",ei=e=>oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ts=Gn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ws=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},pa=/-(\w)/g,qe=Ws(e=>e.replace(pa,(t,s)=>s?s.toUpperCase():"")),ma=/\B([A-Z])/g,Ut=Ws(e=>e.replace(ma,"-$1").toLowerCase()),Vs=Ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),un=Ws(e=>e?`on${Vs(e)}`:""),Zt=(e,t)=>!Object.is(e,t),$s=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Ns=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},En=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ii;const ga=()=>Ii||(Ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ke;class _a{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ke,!t&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=ke;try{return ke=this,t()}finally{ke=s}}}on(){ke=this}off(){ke=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function ba(e,t=ke){t&&t.active&&t.effects.push(e)}function ya(){return ke}const ti=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Po=e=>(e.w&rt)>0,Mo=e=>(e.n&rt)>0,wa=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=rt},Ca=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const i=t[n];Po(i)&&!Mo(i)?i.delete(e):t[s++]=i,i.w&=~rt,i.n&=~rt}t.length=s}},Sn=new WeakMap;let qt=0,rt=1;const Tn=30;let Ie;const yt=Symbol(""),$n=Symbol("");class si{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,ba(this,n)}run(){if(!this.active)return this.fn();let t=Ie,s=it;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ie,Ie=this,it=!0,rt=1<<++qt,qt<=Tn?wa(this):Ri(this),this.fn()}finally{qt<=Tn&&Ca(this),rt=1<<--qt,Ie=this.parent,it=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ie===this?this.deferStop=!0:this.active&&(Ri(this),this.onStop&&this.onStop(),this.active=!1)}}function Ri(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let it=!0;const No=[];function Ft(){No.push(it),it=!1}function Dt(){const e=No.pop();it=e===void 0?!0:e}function we(e,t,s){if(it&&Ie){let n=Sn.get(e);n||Sn.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=ti()),Lo(i)}}function Lo(e,t){let s=!1;qt<=Tn?Mo(e)||(e.n|=rt,s=!Po(e)):s=!e.has(Ie),s&&(e.add(Ie),Ie.deps.push(e))}function Ze(e,t,s,n,i,o){const r=Sn.get(e);if(!r)return;let a=[];if(t==="clear")a=[...r.values()];else if(s==="length"&&P(e)){const l=Number(n);r.forEach((c,f)=>{(f==="length"||f>=l)&&a.push(c)})}else switch(s!==void 0&&a.push(r.get(s)),t){case"add":P(e)?ei(s)&&a.push(r.get("length")):(a.push(r.get(yt)),At(e)&&a.push(r.get($n)));break;case"delete":P(e)||(a.push(r.get(yt)),At(e)&&a.push(r.get($n)));break;case"set":At(e)&&a.push(r.get(yt));break}if(a.length===1)a[0]&&On(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);On(ti(l))}}function On(e,t){const s=P(e)?e:[...e];for(const n of s)n.computed&&Pi(n);for(const n of s)n.computed||Pi(n)}function Pi(e,t){(e!==Ie||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const va=Gn("__proto__,__v_isRef,__isVue"),Uo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yn)),xa=ni(),Ea=ni(!1,!0),Sa=ni(!0),Mi=Ta();function Ta(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=q(this);for(let o=0,r=this.length;o<r;o++)we(n,"get",o+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(q)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Ft();const n=q(this)[t].apply(this,s);return Dt(),n}}),e}function $a(e){const t=q(this);return we(t,"has",e),t.hasOwnProperty(e)}function ni(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?za:Ho:t?Bo:jo).get(n))return n;const r=P(n);if(!e){if(r&&H(Mi,i))return Reflect.get(Mi,i,o);if(i==="hasOwnProperty")return $a}const a=Reflect.get(n,i,o);return(Yn(i)?Uo.has(i):va(i))||(e||we(n,"get",i),t)?a:pe(a)?r&&ei(i)?a:a.value:Y(a)?e?zo(a):Qe(a):a}}const Oa=Fo(),Aa=Fo(!0);function Fo(e=!1){return function(s,n,i,o){let r=s[n];if(Mt(r)&&pe(r)&&!pe(i))return!1;if(!e&&(!Ls(i)&&!Mt(i)&&(r=q(r),i=q(i)),!P(s)&&pe(r)&&!pe(i)))return r.value=i,!0;const a=P(s)&&ei(n)?Number(n)<s.length:H(s,n),l=Reflect.set(s,n,i,o);return s===q(o)&&(a?Zt(i,r)&&Ze(s,"set",n,i):Ze(s,"add",n,i)),l}}function ka(e,t){const s=H(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&Ze(e,"delete",t,void 0),n}function Ia(e,t){const s=Reflect.has(e,t);return(!Yn(t)||!Uo.has(t))&&we(e,"has",t),s}function Ra(e){return we(e,"iterate",P(e)?"length":yt),Reflect.ownKeys(e)}const Do={get:xa,set:Oa,deleteProperty:ka,has:Ia,ownKeys:Ra},Pa={get:Sa,set(e,t){return!0},deleteProperty(e,t){return!0}},Ma=me({},Do,{get:Ea,set:Aa}),ii=e=>e,Js=e=>Reflect.getPrototypeOf(e);function ys(e,t,s=!1,n=!1){e=e.__v_raw;const i=q(e),o=q(t);s||(t!==o&&we(i,"get",t),we(i,"get",o));const{has:r}=Js(i),a=n?ii:s?ai:Xt;if(r.call(i,t))return a(e.get(t));if(r.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function ws(e,t=!1){const s=this.__v_raw,n=q(s),i=q(e);return t||(e!==i&&we(n,"has",e),we(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function Cs(e,t=!1){return e=e.__v_raw,!t&&we(q(e),"iterate",yt),Reflect.get(e,"size",e)}function Ni(e){e=q(e);const t=q(this);return Js(t).has.call(t,e)||(t.add(e),Ze(t,"add",e,e)),this}function Li(e,t){t=q(t);const s=q(this),{has:n,get:i}=Js(s);let o=n.call(s,e);o||(e=q(e),o=n.call(s,e));const r=i.call(s,e);return s.set(e,t),o?Zt(t,r)&&Ze(s,"set",e,t):Ze(s,"add",e,t),this}function Ui(e){const t=q(this),{has:s,get:n}=Js(t);let i=s.call(t,e);i||(e=q(e),i=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Ze(t,"delete",e,void 0),o}function Fi(){const e=q(this),t=e.size!==0,s=e.clear();return t&&Ze(e,"clear",void 0,void 0),s}function vs(e,t){return function(n,i){const o=this,r=o.__v_raw,a=q(r),l=t?ii:e?ai:Xt;return!e&&we(a,"iterate",yt),r.forEach((c,f)=>n.call(i,l(c),l(f),o))}}function xs(e,t,s){return function(...n){const i=this.__v_raw,o=q(i),r=At(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),f=s?ii:t?ai:Xt;return!t&&we(o,"iterate",l?$n:yt),{next(){const{value:p,done:d}=c.next();return d?{value:p,done:d}:{value:a?[f(p[0]),f(p[1])]:f(p),done:d}},[Symbol.iterator](){return this}}}}function tt(e){return function(...t){return e==="delete"?!1:this}}function Na(){const e={get(o){return ys(this,o)},get size(){return Cs(this)},has:ws,add:Ni,set:Li,delete:Ui,clear:Fi,forEach:vs(!1,!1)},t={get(o){return ys(this,o,!1,!0)},get size(){return Cs(this)},has:ws,add:Ni,set:Li,delete:Ui,clear:Fi,forEach:vs(!1,!0)},s={get(o){return ys(this,o,!0)},get size(){return Cs(this,!0)},has(o){return ws.call(this,o,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:vs(!0,!1)},n={get(o){return ys(this,o,!0,!0)},get size(){return Cs(this,!0)},has(o){return ws.call(this,o,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=xs(o,!1,!1),s[o]=xs(o,!0,!1),t[o]=xs(o,!1,!0),n[o]=xs(o,!0,!0)}),[e,s,t,n]}const[La,Ua,Fa,Da]=Na();function oi(e,t){const s=t?e?Da:Fa:e?Ua:La;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(H(s,i)&&i in n?s:n,i,o)}const ja={get:oi(!1,!1)},Ba={get:oi(!1,!0)},Ha={get:oi(!0,!1)},jo=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,za=new WeakMap;function qa(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wa(e){return e.__v_skip||!Object.isExtensible(e)?0:qa(da(e))}function Qe(e){return Mt(e)?e:ri(e,!1,Do,ja,jo)}function Va(e){return ri(e,!1,Ma,Ba,Bo)}function zo(e){return ri(e,!0,Pa,Ha,Ho)}function ri(e,t,s,n,i){if(!Y(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const r=Wa(e);if(r===0)return e;const a=new Proxy(e,r===2?n:s);return i.set(e,a),a}function kt(e){return Mt(e)?kt(e.__v_raw):!!(e&&e.__v_isReactive)}function Mt(e){return!!(e&&e.__v_isReadonly)}function Ls(e){return!!(e&&e.__v_isShallow)}function qo(e){return kt(e)||Mt(e)}function q(e){const t=e&&e.__v_raw;return t?q(t):e}function Wo(e){return Ns(e,"__v_skip",!0),e}const Xt=e=>Y(e)?Qe(e):e,ai=e=>Y(e)?zo(e):e;function Vo(e){it&&Ie&&(e=q(e),Lo(e.dep||(e.dep=ti())))}function Jo(e,t){e=q(e);const s=e.dep;s&&On(s)}function pe(e){return!!(e&&e.__v_isRef===!0)}function Ja(e){return Ka(e,!1)}function Ka(e,t){return pe(e)?e:new Qa(e,t)}class Qa{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:q(t),this._value=s?t:Xt(t)}get value(){return Vo(this),this._value}set value(t){const s=this.__v_isShallow||Ls(t)||Mt(t);t=s?t:q(t),Zt(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Xt(t),Jo(this))}}function Ga(e){return pe(e)?e.value:e}const Za={get:(e,t,s)=>Ga(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return pe(i)&&!pe(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Ko(e){return kt(e)?e:new Proxy(e,Za)}var Qo;class Xa{constructor(t,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Qo]=!1,this._dirty=!0,this.effect=new si(t,()=>{this._dirty||(this._dirty=!0,Jo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=q(this);return Vo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Qo="__v_isReadonly";function Ya(e,t,s=!1){let n,i;const o=F(e);return o?(n=e,i=Me):(n=e.get,i=e.set),new Xa(n,i,o||!i,s)}function ot(e,t,s,n){let i;try{i=n?e(...n):e()}catch(o){Ks(o,t,s)}return i}function Se(e,t,s,n){if(F(e)){const o=ot(e,t,s,n);return o&&ko(o)&&o.catch(r=>{Ks(r,t,s)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Se(e[o],t,s,n));return i}function Ks(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,a=s;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,r,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){ot(l,null,10,[e,r,a]);return}}el(e,s,i,n)}function el(e,t,s,n=!0){console.error(e)}let Yt=!1,An=!1;const de=[];let He=0;const It=[];let Je=null,mt=0;const Go=Promise.resolve();let li=null;function tl(e){const t=li||Go;return e?t.then(this?e.bind(this):e):t}function sl(e){let t=He+1,s=de.length;for(;t<s;){const n=t+s>>>1;es(de[n])<e?t=n+1:s=n}return t}function ci(e){(!de.length||!de.includes(e,Yt&&e.allowRecurse?He+1:He))&&(e.id==null?de.push(e):de.splice(sl(e.id),0,e),Zo())}function Zo(){!Yt&&!An&&(An=!0,li=Go.then(Yo))}function nl(e){const t=de.indexOf(e);t>He&&de.splice(t,1)}function il(e){P(e)?It.push(...e):(!Je||!Je.includes(e,e.allowRecurse?mt+1:mt))&&It.push(e),Zo()}function Di(e,t=Yt?He+1:0){for(;t<de.length;t++){const s=de[t];s&&s.pre&&(de.splice(t,1),t--,s())}}function Xo(e){if(It.length){const t=[...new Set(It)];if(It.length=0,Je){Je.push(...t);return}for(Je=t,Je.sort((s,n)=>es(s)-es(n)),mt=0;mt<Je.length;mt++)Je[mt]();Je=null,mt=0}}const es=e=>e.id==null?1/0:e.id,ol=(e,t)=>{const s=es(e)-es(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Yo(e){An=!1,Yt=!0,de.sort(ol);const t=Me;try{for(He=0;He<de.length;He++){const s=de[He];s&&s.active!==!1&&ot(s,null,14)}}finally{He=0,de.length=0,Xo(),Yt=!1,li=null,(de.length||It.length)&&Yo()}}function rl(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Q;let i=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const f=`${r==="modelValue"?"model":r}Modifiers`,{number:p,trim:d}=n[f]||Q;d&&(i=s.map(m=>oe(m)?m.trim():m)),p&&(i=s.map(En))}let a,l=n[a=un(t)]||n[a=un(qe(t))];!l&&o&&(l=n[a=un(Ut(t))]),l&&Se(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Se(c,e,6,i)}}function er(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!F(e)){const l=c=>{const f=er(c,t,!0);f&&(a=!0,me(r,f))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Y(e)&&n.set(e,null),null):(P(o)?o.forEach(l=>r[l]=null):me(r,o),Y(e)&&n.set(e,r),r)}function Qs(e,t){return!e||!zs(t)?!1:(t=t.slice(2).replace(/Once$/,""),H(e,t[0].toLowerCase()+t.slice(1))||H(e,Ut(t))||H(e,t))}let ue=null,Gs=null;function Us(e){const t=ue;return ue=e,Gs=e&&e.type.__scopeId||null,t}function hs(e){Gs=e}function ds(){Gs=null}function ui(e,t=ue,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Qi(-1);const o=Us(t);let r;try{r=e(...i)}finally{Us(o),n._d&&Qi(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function fn(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:f,renderCache:p,data:d,setupState:m,ctx:b,inheritAttrs:C}=e;let M,N;const ee=Us(e);try{if(s.shapeFlag&4){const G=i||n;M=Be(f.call(G,G,p,o,m,d,b)),N=l}else{const G=t;M=Be(G.length>1?G(o,{attrs:l,slots:a,emit:c}):G(o,null)),N=t.props?l:al(l)}}catch(G){Qt.length=0,Ks(G,e,1),M=be(Te)}let k=M;if(N&&C!==!1){const G=Object.keys(N),{shapeFlag:fe}=k;G.length&&fe&7&&(r&&G.some(Zn)&&(N=ll(N,r)),k=at(k,N))}return s.dirs&&(k=at(k),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&(k.transition=s.transition),M=k,Us(ee),M}const al=e=>{let t;for(const s in e)(s==="class"||s==="style"||zs(s))&&((t||(t={}))[s]=e[s]);return t},ll=(e,t)=>{const s={};for(const n in e)(!Zn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function cl(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?ji(n,r,c):!!r;if(l&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const d=f[p];if(r[d]!==n[d]&&!Qs(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?ji(n,r,c):!0:!!r;return!1}function ji(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Qs(s,o))return!0}return!1}function ul({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const fl=e=>e.__isSuspense;function hl(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):il(e)}function dl(e,t){if(ne){let s=ne.provides;const n=ne.parent&&ne.parent.provides;n===s&&(s=ne.provides=Object.create(n)),s[e]=t}}function Os(e,t,s=!1){const n=ne||ue;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&F(t)?t.call(n.proxy):t}}const Es={};function hn(e,t,s){return tr(e,t,s)}function tr(e,t,{immediate:s,deep:n,flush:i,onTrack:o,onTrigger:r}=Q){const a=ya()===(ne==null?void 0:ne.scope)?ne:null;let l,c=!1,f=!1;if(pe(e)?(l=()=>e.value,c=Ls(e)):kt(e)?(l=()=>e,n=!0):P(e)?(f=!0,c=e.some(k=>kt(k)||Ls(k)),l=()=>e.map(k=>{if(pe(k))return k.value;if(kt(k))return bt(k);if(F(k))return ot(k,a,2)})):F(e)?t?l=()=>ot(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return p&&p(),Se(e,a,3,[d])}:l=Me,t&&n){const k=l;l=()=>bt(k())}let p,d=k=>{p=N.onStop=()=>{ot(k,a,4)}},m;if(ns)if(d=Me,t?s&&Se(t,a,3,[l(),f?[]:void 0,d]):l(),i==="sync"){const k=cc();m=k.__watcherHandles||(k.__watcherHandles=[])}else return Me;let b=f?new Array(e.length).fill(Es):Es;const C=()=>{if(N.active)if(t){const k=N.run();(n||c||(f?k.some((G,fe)=>Zt(G,b[fe])):Zt(k,b)))&&(p&&p(),Se(t,a,3,[k,b===Es?void 0:f&&b[0]===Es?[]:b,d]),b=k)}else N.run()};C.allowRecurse=!!t;let M;i==="sync"?M=C:i==="post"?M=()=>ye(C,a&&a.suspense):(C.pre=!0,a&&(C.id=a.uid),M=()=>ci(C));const N=new si(l,M);t?s?C():b=N.run():i==="post"?ye(N.run.bind(N),a&&a.suspense):N.run();const ee=()=>{N.stop(),a&&a.scope&&Xn(a.scope.effects,N)};return m&&m.push(ee),ee}function pl(e,t,s){const n=this.proxy,i=oe(e)?e.includes(".")?sr(n,e):()=>n[e]:e.bind(n,n);let o;F(t)?o=t:(o=t.handler,s=t);const r=ne;Nt(this);const a=tr(i,o.bind(n),s);return r?Nt(r):wt(),a}function sr(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function bt(e,t){if(!Y(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pe(e))bt(e.value,t);else if(P(e))for(let s=0;s<e.length;s++)bt(e[s],t);else if(Ao(e)||At(e))e.forEach(s=>{bt(s,t)});else if(Ro(e))for(const s in e)bt(e[s],t);return e}function ml(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rr(()=>{e.isMounted=!0}),ar(()=>{e.isUnmounting=!0}),e}const Ee=[Function,Array],gl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ee,onEnter:Ee,onAfterEnter:Ee,onEnterCancelled:Ee,onBeforeLeave:Ee,onLeave:Ee,onAfterLeave:Ee,onLeaveCancelled:Ee,onBeforeAppear:Ee,onAppear:Ee,onAfterAppear:Ee,onAppearCancelled:Ee},setup(e,{slots:t}){const s=tc(),n=ml();let i;return()=>{const o=t.default&&ir(t.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const C of o)if(C.type!==Te){r=C;break}}const a=q(e),{mode:l}=a;if(n.isLeaving)return dn(r);const c=Bi(r);if(!c)return dn(r);const f=kn(c,a,n,s);In(c,f);const p=s.subTree,d=p&&Bi(p);let m=!1;const{getTransitionKey:b}=c.type;if(b){const C=b();i===void 0?i=C:C!==i&&(i=C,m=!0)}if(d&&d.type!==Te&&(!gt(c,d)||m)){const C=kn(d,a,n,s);if(In(d,C),l==="out-in")return n.isLeaving=!0,C.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&s.update()},dn(r);l==="in-out"&&c.type!==Te&&(C.delayLeave=(M,N,ee)=>{const k=nr(n,d);k[String(d.key)]=d,M._leaveCb=()=>{N(),M._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=ee})}return r}}},_l=gl;function nr(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function kn(e,t,s,n){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:p,onLeave:d,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:C,onAppear:M,onAfterAppear:N,onAppearCancelled:ee}=t,k=String(e.key),G=nr(s,e),fe=(D,le)=>{D&&Se(D,n,9,le)},Ct=(D,le)=>{const te=le[1];fe(D,le),P(D)?D.every(Ce=>Ce.length<=1)&&te():D.length<=1&&te()},et={mode:o,persisted:r,beforeEnter(D){let le=a;if(!s.isMounted)if(i)le=C||a;else return;D._leaveCb&&D._leaveCb(!0);const te=G[k];te&&gt(e,te)&&te.el._leaveCb&&te.el._leaveCb(),fe(le,[D])},enter(D){let le=l,te=c,Ce=f;if(!s.isMounted)if(i)le=M||l,te=N||c,Ce=ee||f;else return;let Ne=!1;const We=D._enterCb=Bt=>{Ne||(Ne=!0,Bt?fe(Ce,[D]):fe(te,[D]),et.delayedLeave&&et.delayedLeave(),D._enterCb=void 0)};le?Ct(le,[D,We]):We()},leave(D,le){const te=String(e.key);if(D._enterCb&&D._enterCb(!0),s.isUnmounting)return le();fe(p,[D]);let Ce=!1;const Ne=D._leaveCb=We=>{Ce||(Ce=!0,le(),We?fe(b,[D]):fe(m,[D]),D._leaveCb=void 0,G[te]===e&&delete G[te])};G[te]=e,d?Ct(d,[D,Ne]):Ne()},clone(D){return kn(D,t,s,n)}};return et}function dn(e){if(Zs(e))return e=at(e),e.children=null,e}function Bi(e){return Zs(e)?e.children?e.children[0]:void 0:e}function In(e,t){e.shapeFlag&6&&e.component?In(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ir(e,t=!1,s){let n=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const a=s==null?r.key:String(s)+String(r.key!=null?r.key:o);r.type===ce?(r.patchFlag&128&&i++,n=n.concat(ir(r.children,t,a))):(t||r.type!==Te)&&n.push(a!=null?at(r,{key:a}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}const Vt=e=>!!e.type.__asyncLoader,Zs=e=>e.type.__isKeepAlive;function bl(e,t){or(e,"a",t)}function yl(e,t){or(e,"da",t)}function or(e,t,s=ne){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Xs(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Zs(i.parent.vnode)&&wl(n,t,s,i),i=i.parent}}function wl(e,t,s,n){const i=Xs(t,e,n,!0);lr(()=>{Xn(n[t],i)},s)}function Xs(e,t,s=ne,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;Ft(),Nt(s);const a=Se(t,s,e,r);return wt(),Dt(),a});return n?i.unshift(o):i.push(o),o}}const Xe=e=>(t,s=ne)=>(!ns||e==="sp")&&Xs(e,(...n)=>t(...n),s),Cl=Xe("bm"),rr=Xe("m"),vl=Xe("bu"),xl=Xe("u"),ar=Xe("bum"),lr=Xe("um"),El=Xe("sp"),Sl=Xe("rtg"),Tl=Xe("rtc");function $l(e,t=ne){Xs("ec",e,t)}function Rn(e,t){const s=ue;if(s===null)return e;const n=tn(s)||s.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,l,c=Q]=t[o];r&&(F(r)&&(r={mounted:r,updated:r}),r.deep&&bt(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function ht(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(Ft(),Se(l,s,8,[e.el,a,e,t]),Dt())}}const cr="components",Ol="directives";function je(e,t){return ur(cr,e,!0,t)||e}const Al=Symbol();function kl(e){return ur(Ol,e)}function ur(e,t,s=!0,n=!1){const i=ue||ne;if(i){const o=i.type;if(e===cr){const a=rc(o,!1);if(a&&(a===t||a===qe(t)||a===Vs(qe(t))))return o}const r=Hi(i[e]||o[e],t)||Hi(i.appContext[e],t);return!r&&n?o:r}}function Hi(e,t){return e&&(e[t]||e[qe(t)]||e[Vs(qe(t))])}function Jt(e,t,s,n){let i;const o=s&&s[n];if(P(e)||oe(e)){i=new Array(e.length);for(let r=0,a=e.length;r<a;r++)i[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,o&&o[r])}else if(Y(e))if(e[Symbol.iterator])i=Array.from(e,(r,a)=>t(r,a,void 0,o&&o[a]));else{const r=Object.keys(e);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];i[a]=t(e[c],c,a,o&&o[a])}}else i=[];return s&&(s[n]=i),i}function fr(e,t,s={},n,i){if(ue.isCE||ue.parent&&Vt(ue.parent)&&ue.parent.isCE)return t!=="default"&&(s.name=t),be("slot",s,n&&n());let o=e[t];o&&o._c&&(o._d=!1),R();const r=o&&hr(o(s)),a=Ke(ce,{key:s.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function hr(e){return e.some(t=>vr(t)?!(t.type===Te||t.type===ce&&!hr(t.children)):!0)?e:null}const Pn=e=>e?Er(e)?tn(e)||e.proxy:Pn(e.parent):null,Kt=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Pn(e.parent),$root:e=>Pn(e.root),$emit:e=>e.emit,$options:e=>fi(e),$forceUpdate:e=>e.f||(e.f=()=>ci(e.update)),$nextTick:e=>e.n||(e.n=tl.bind(e.proxy)),$watch:e=>pl.bind(e)}),pn=(e,t)=>e!==Q&&!e.__isScriptSetup&&H(e,t),Il={get({_:e},t){const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=r[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(pn(n,t))return r[t]=1,n[t];if(i!==Q&&H(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&H(c,t))return r[t]=3,o[t];if(s!==Q&&H(s,t))return r[t]=4,s[t];Mn&&(r[t]=0)}}const f=Kt[t];let p,d;if(f)return t==="$attrs"&&we(e,"get",t),f(e);if((p=a.__cssModules)&&(p=p[t]))return p;if(s!==Q&&H(s,t))return r[t]=4,s[t];if(d=l.config.globalProperties,H(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return pn(i,t)?(i[t]=s,!0):n!==Q&&H(n,t)?(n[t]=s,!0):H(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==Q&&H(e,r)||pn(t,r)||(a=o[0])&&H(a,r)||H(n,r)||H(Kt,r)||H(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:H(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};let Mn=!0;function Rl(e){const t=fi(e),s=e.proxy,n=e.ctx;Mn=!1,t.beforeCreate&&zi(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:f,beforeMount:p,mounted:d,beforeUpdate:m,updated:b,activated:C,deactivated:M,beforeDestroy:N,beforeUnmount:ee,destroyed:k,unmounted:G,render:fe,renderTracked:Ct,renderTriggered:et,errorCaptured:D,serverPrefetch:le,expose:te,inheritAttrs:Ce,components:Ne,directives:We,filters:Bt}=t;if(c&&Pl(c,n,null,e.appContext.config.unwrapInjectedRef),r)for(const se in r){const J=r[se];F(J)&&(n[se]=J.bind(s))}if(i){const se=i.call(s,s);Y(se)&&(e.data=Qe(se))}if(Mn=!0,o)for(const se in o){const J=o[se],ut=F(J)?J.bind(s,s):F(J.get)?J.get.bind(s,s):Me,gs=!F(J)&&F(J.set)?J.set.bind(s):Me,ft=Wt({get:ut,set:gs});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>ft.value,set:Le=>ft.value=Le})}if(a)for(const se in a)dr(a[se],n,s,se);if(l){const se=F(l)?l.call(s):l;Reflect.ownKeys(se).forEach(J=>{dl(J,se[J])})}f&&zi(f,e,"c");function ge(se,J){P(J)?J.forEach(ut=>se(ut.bind(s))):J&&se(J.bind(s))}if(ge(Cl,p),ge(rr,d),ge(vl,m),ge(xl,b),ge(bl,C),ge(yl,M),ge($l,D),ge(Tl,Ct),ge(Sl,et),ge(ar,ee),ge(lr,G),ge(El,le),P(te))if(te.length){const se=e.exposed||(e.exposed={});te.forEach(J=>{Object.defineProperty(se,J,{get:()=>s[J],set:ut=>s[J]=ut})})}else e.exposed||(e.exposed={});fe&&e.render===Me&&(e.render=fe),Ce!=null&&(e.inheritAttrs=Ce),Ne&&(e.components=Ne),We&&(e.directives=We)}function Pl(e,t,s=Me,n=!1){P(e)&&(e=Nn(e));for(const i in e){const o=e[i];let r;Y(o)?"default"in o?r=Os(o.from||i,o.default,!0):r=Os(o.from||i):r=Os(o),pe(r)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[i]=r}}function zi(e,t,s){Se(P(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function dr(e,t,s,n){const i=n.includes(".")?sr(s,n):()=>s[n];if(oe(e)){const o=t[e];F(o)&&hn(i,o)}else if(F(e))hn(i,e.bind(s));else if(Y(e))if(P(e))e.forEach(o=>dr(o,t,s,n));else{const o=F(e.handler)?e.handler.bind(s):t[e.handler];F(o)&&hn(i,o,e)}}function fi(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>Fs(l,c,r,!0)),Fs(l,t,r)),Y(t)&&o.set(t,l),l}function Fs(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&Fs(e,o,s,!0),i&&i.forEach(r=>Fs(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=Ml[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const Ml={data:qi,props:pt,emits:pt,methods:pt,computed:pt,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:pt,directives:pt,watch:Ll,provide:qi,inject:Nl};function qi(e,t){return t?e?function(){return me(F(e)?e.call(this,this):e,F(t)?t.call(this,this):t)}:t:e}function Nl(e,t){return pt(Nn(e),Nn(t))}function Nn(e){if(P(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function _e(e,t){return e?[...new Set([].concat(e,t))]:t}function pt(e,t){return e?me(me(Object.create(null),e),t):t}function Ll(e,t){if(!e)return t;if(!t)return e;const s=me(Object.create(null),e);for(const n in t)s[n]=_e(e[n],t[n]);return s}function Ul(e,t,s,n=!1){const i={},o={};Ns(o,en,1),e.propsDefaults=Object.create(null),pr(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Va(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Fl(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=q(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let d=f[p];if(Qs(e.emitsOptions,d))continue;const m=t[d];if(l)if(H(o,d))m!==o[d]&&(o[d]=m,c=!0);else{const b=qe(d);i[b]=Ln(l,a,b,m,e,!1)}else m!==o[d]&&(o[d]=m,c=!0)}}}else{pr(e,t,i,o)&&(c=!0);let f;for(const p in a)(!t||!H(t,p)&&((f=Ut(p))===p||!H(t,f)))&&(l?s&&(s[p]!==void 0||s[f]!==void 0)&&(i[p]=Ln(l,a,p,void 0,e,!0)):delete i[p]);if(o!==a)for(const p in o)(!t||!H(t,p))&&(delete o[p],c=!0)}c&&Ze(e,"set","$attrs")}function pr(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(Ts(l))continue;const c=t[l];let f;i&&H(i,f=qe(l))?!o||!o.includes(f)?s[f]=c:(a||(a={}))[f]=c:Qs(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=q(s),c=a||Q;for(let f=0;f<o.length;f++){const p=o[f];s[p]=Ln(i,l,p,c[p],e,!H(c,p))}}return r}function Ln(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=H(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&F(l)){const{propsDefaults:c}=i;s in c?n=c[s]:(Nt(i),n=c[s]=l.call(null,t),wt())}else n=l}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===Ut(s))&&(n=!0))}return n}function mr(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!F(e)){const f=p=>{l=!0;const[d,m]=mr(p,t,!0);me(r,d),m&&a.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!l)return Y(e)&&n.set(e,Ot),Ot;if(P(o))for(let f=0;f<o.length;f++){const p=qe(o[f]);Wi(p)&&(r[p]=Q)}else if(o)for(const f in o){const p=qe(f);if(Wi(p)){const d=o[f],m=r[p]=P(d)||F(d)?{type:d}:Object.assign({},d);if(m){const b=Ki(Boolean,m.type),C=Ki(String,m.type);m[0]=b>-1,m[1]=C<0||b<C,(b>-1||H(m,"default"))&&a.push(p)}}}const c=[r,a];return Y(e)&&n.set(e,c),c}function Wi(e){return e[0]!=="$"}function Vi(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ji(e,t){return Vi(e)===Vi(t)}function Ki(e,t){return P(t)?t.findIndex(s=>Ji(s,e)):F(t)&&Ji(t,e)?0:-1}const gr=e=>e[0]==="_"||e==="$stable",hi=e=>P(e)?e.map(Be):[Be(e)],Dl=(e,t,s)=>{if(t._n)return t;const n=ui((...i)=>hi(t(...i)),s);return n._c=!1,n},_r=(e,t,s)=>{const n=e._ctx;for(const i in e){if(gr(i))continue;const o=e[i];if(F(o))t[i]=Dl(i,o,n);else if(o!=null){const r=hi(o);t[i]=()=>r}}},br=(e,t)=>{const s=hi(t);e.slots.default=()=>s},jl=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=q(t),Ns(t,"_",s)):_r(t,e.slots={})}else e.slots={},t&&br(e,t);Ns(e.slots,en,1)},Bl=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Q;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:(me(i,t),!s&&a===1&&delete i._):(o=!t.$stable,_r(t,i)),r=t}else t&&(br(e,t),r={default:1});if(o)for(const a in i)!gr(a)&&!(a in r)&&delete i[a]};function yr(){return{app:null,config:{isNativeTag:ua,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hl=0;function zl(e,t){return function(n,i=null){F(n)||(n=Object.assign({},n)),i!=null&&!Y(i)&&(i=null);const o=yr(),r=new Set;let a=!1;const l=o.app={_uid:Hl++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:uc,get config(){return o.config},set config(c){},use(c,...f){return r.has(c)||(c&&F(c.install)?(r.add(c),c.install(l,...f)):F(c)&&(r.add(c),c(l,...f))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,f){return f?(o.components[c]=f,l):o.components[c]},directive(c,f){return f?(o.directives[c]=f,l):o.directives[c]},mount(c,f,p){if(!a){const d=be(n,i);return d.appContext=o,f&&t?t(d,c):e(d,c,p),a=!0,l._container=c,c.__vue_app__=l,tn(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,f){return o.provides[c]=f,l}};return l}}function Un(e,t,s,n,i=!1){if(P(e)){e.forEach((d,m)=>Un(d,t&&(P(t)?t[m]:t),s,n,i));return}if(Vt(n)&&!i)return;const o=n.shapeFlag&4?tn(n.component)||n.component.proxy:n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,f=a.refs===Q?a.refs={}:a.refs,p=a.setupState;if(c!=null&&c!==l&&(oe(c)?(f[c]=null,H(p,c)&&(p[c]=null)):pe(c)&&(c.value=null)),F(l))ot(l,a,12,[r,f]);else{const d=oe(l),m=pe(l);if(d||m){const b=()=>{if(e.f){const C=d?H(p,l)?p[l]:f[l]:l.value;i?P(C)&&Xn(C,o):P(C)?C.includes(o)||C.push(o):d?(f[l]=[o],H(p,l)&&(p[l]=f[l])):(l.value=[o],e.k&&(f[e.k]=l.value))}else d?(f[l]=r,H(p,l)&&(p[l]=r)):m&&(l.value=r,e.k&&(f[e.k]=r))};r?(b.id=-1,ye(b,s)):b()}}}const ye=hl;function ql(e){return Wl(e)}function Wl(e,t){const s=ga();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:f,parentNode:p,nextSibling:d,setScopeId:m=Me,insertStaticContent:b}=e,C=(u,h,g,w=null,y=null,E=null,T=!1,x=null,S=!!h.dynamicChildren)=>{if(u===h)return;u&&!gt(u,h)&&(w=_s(u),Le(u,y,E,!0),u=null),h.patchFlag===-2&&(S=!1,h.dynamicChildren=null);const{type:v,ref:O,shapeFlag:$}=h;switch(v){case Ys:M(u,h,g,w);break;case Te:N(u,h,g,w);break;case mn:u==null&&ee(h,g,w,T);break;case ce:Ne(u,h,g,w,y,E,T,x,S);break;default:$&1?fe(u,h,g,w,y,E,T,x,S):$&6?We(u,h,g,w,y,E,T,x,S):($&64||$&128)&&v.process(u,h,g,w,y,E,T,x,S,vt)}O!=null&&y&&Un(O,u&&u.ref,E,h||u,!h)},M=(u,h,g,w)=>{if(u==null)n(h.el=a(h.children),g,w);else{const y=h.el=u.el;h.children!==u.children&&c(y,h.children)}},N=(u,h,g,w)=>{u==null?n(h.el=l(h.children||""),g,w):h.el=u.el},ee=(u,h,g,w)=>{[u.el,u.anchor]=b(u.children,h,g,w,u.el,u.anchor)},k=({el:u,anchor:h},g,w)=>{let y;for(;u&&u!==h;)y=d(u),n(u,g,w),u=y;n(h,g,w)},G=({el:u,anchor:h})=>{let g;for(;u&&u!==h;)g=d(u),i(u),u=g;i(h)},fe=(u,h,g,w,y,E,T,x,S)=>{T=T||h.type==="svg",u==null?Ct(h,g,w,y,E,T,x,S):le(u,h,y,E,T,x,S)},Ct=(u,h,g,w,y,E,T,x)=>{let S,v;const{type:O,props:$,shapeFlag:A,transition:I,dirs:j}=u;if(S=u.el=r(u.type,E,$&&$.is,$),A&8?f(S,u.children):A&16&&D(u.children,S,null,w,y,E&&O!=="foreignObject",T,x),j&&ht(u,null,w,"created"),et(S,u,u.scopeId,T,w),$){for(const V in $)V!=="value"&&!Ts(V)&&o(S,V,null,$[V],E,u.children,w,y,Ve);"value"in $&&o(S,"value",null,$.value),(v=$.onVnodeBeforeMount)&&De(v,w,u)}j&&ht(u,null,w,"beforeMount");const K=(!y||y&&!y.pendingBranch)&&I&&!I.persisted;K&&I.beforeEnter(S),n(S,h,g),((v=$&&$.onVnodeMounted)||K||j)&&ye(()=>{v&&De(v,w,u),K&&I.enter(S),j&&ht(u,null,w,"mounted")},y)},et=(u,h,g,w,y)=>{if(g&&m(u,g),w)for(let E=0;E<w.length;E++)m(u,w[E]);if(y){let E=y.subTree;if(h===E){const T=y.vnode;et(u,T,T.scopeId,T.slotScopeIds,y.parent)}}},D=(u,h,g,w,y,E,T,x,S=0)=>{for(let v=S;v<u.length;v++){const O=u[v]=x?nt(u[v]):Be(u[v]);C(null,O,h,g,w,y,E,T,x)}},le=(u,h,g,w,y,E,T)=>{const x=h.el=u.el;let{patchFlag:S,dynamicChildren:v,dirs:O}=h;S|=u.patchFlag&16;const $=u.props||Q,A=h.props||Q;let I;g&&dt(g,!1),(I=A.onVnodeBeforeUpdate)&&De(I,g,h,u),O&&ht(h,u,g,"beforeUpdate"),g&&dt(g,!0);const j=y&&h.type!=="foreignObject";if(v?te(u.dynamicChildren,v,x,g,w,j,E):T||J(u,h,x,null,g,w,j,E,!1),S>0){if(S&16)Ce(x,h,$,A,g,w,y);else if(S&2&&$.class!==A.class&&o(x,"class",null,A.class,y),S&4&&o(x,"style",$.style,A.style,y),S&8){const K=h.dynamicProps;for(let V=0;V<K.length;V++){const ie=K[V],Oe=$[ie],xt=A[ie];(xt!==Oe||ie==="value")&&o(x,ie,Oe,xt,y,u.children,g,w,Ve)}}S&1&&u.children!==h.children&&f(x,h.children)}else!T&&v==null&&Ce(x,h,$,A,g,w,y);((I=A.onVnodeUpdated)||O)&&ye(()=>{I&&De(I,g,h,u),O&&ht(h,u,g,"updated")},w)},te=(u,h,g,w,y,E,T)=>{for(let x=0;x<h.length;x++){const S=u[x],v=h[x],O=S.el&&(S.type===ce||!gt(S,v)||S.shapeFlag&70)?p(S.el):g;C(S,v,O,null,w,y,E,T,!0)}},Ce=(u,h,g,w,y,E,T)=>{if(g!==w){if(g!==Q)for(const x in g)!Ts(x)&&!(x in w)&&o(u,x,g[x],null,T,h.children,y,E,Ve);for(const x in w){if(Ts(x))continue;const S=w[x],v=g[x];S!==v&&x!=="value"&&o(u,x,v,S,T,h.children,y,E,Ve)}"value"in w&&o(u,"value",g.value,w.value)}},Ne=(u,h,g,w,y,E,T,x,S)=>{const v=h.el=u?u.el:a(""),O=h.anchor=u?u.anchor:a("");let{patchFlag:$,dynamicChildren:A,slotScopeIds:I}=h;I&&(x=x?x.concat(I):I),u==null?(n(v,g,w),n(O,g,w),D(h.children,g,O,y,E,T,x,S)):$>0&&$&64&&A&&u.dynamicChildren?(te(u.dynamicChildren,A,g,y,E,T,x),(h.key!=null||y&&h===y.subTree)&&wr(u,h,!0)):J(u,h,g,O,y,E,T,x,S)},We=(u,h,g,w,y,E,T,x,S)=>{h.slotScopeIds=x,u==null?h.shapeFlag&512?y.ctx.activate(h,g,w,T,S):Bt(h,g,w,y,E,T,S):Si(u,h,S)},Bt=(u,h,g,w,y,E,T)=>{const x=u.component=ec(u,w,y);if(Zs(u)&&(x.ctx.renderer=vt),sc(x),x.asyncDep){if(y&&y.registerDep(x,ge),!u.el){const S=x.subTree=be(Te);N(null,S,h,g)}return}ge(x,u,h,g,y,E,T)},Si=(u,h,g)=>{const w=h.component=u.component;if(cl(u,h,g))if(w.asyncDep&&!w.asyncResolved){se(w,h,g);return}else w.next=h,nl(w.update),w.update();else h.el=u.el,w.vnode=h},ge=(u,h,g,w,y,E,T)=>{const x=()=>{if(u.isMounted){let{next:O,bu:$,u:A,parent:I,vnode:j}=u,K=O,V;dt(u,!1),O?(O.el=j.el,se(u,O,T)):O=j,$&&$s($),(V=O.props&&O.props.onVnodeBeforeUpdate)&&De(V,I,O,j),dt(u,!0);const ie=fn(u),Oe=u.subTree;u.subTree=ie,C(Oe,ie,p(Oe.el),_s(Oe),u,y,E),O.el=ie.el,K===null&&ul(u,ie.el),A&&ye(A,y),(V=O.props&&O.props.onVnodeUpdated)&&ye(()=>De(V,I,O,j),y)}else{let O;const{el:$,props:A}=h,{bm:I,m:j,parent:K}=u,V=Vt(h);if(dt(u,!1),I&&$s(I),!V&&(O=A&&A.onVnodeBeforeMount)&&De(O,K,h),dt(u,!0),$&&ln){const ie=()=>{u.subTree=fn(u),ln($,u.subTree,u,y,null)};V?h.type.__asyncLoader().then(()=>!u.isUnmounted&&ie()):ie()}else{const ie=u.subTree=fn(u);C(null,ie,g,w,u,y,E),h.el=ie.el}if(j&&ye(j,y),!V&&(O=A&&A.onVnodeMounted)){const ie=h;ye(()=>De(O,K,ie),y)}(h.shapeFlag&256||K&&Vt(K.vnode)&&K.vnode.shapeFlag&256)&&u.a&&ye(u.a,y),u.isMounted=!0,h=g=w=null}},S=u.effect=new si(x,()=>ci(v),u.scope),v=u.update=()=>S.run();v.id=u.uid,dt(u,!0),v()},se=(u,h,g)=>{h.component=u;const w=u.vnode.props;u.vnode=h,u.next=null,Fl(u,h.props,w,g),Bl(u,h.children,g),Ft(),Di(),Dt()},J=(u,h,g,w,y,E,T,x,S=!1)=>{const v=u&&u.children,O=u?u.shapeFlag:0,$=h.children,{patchFlag:A,shapeFlag:I}=h;if(A>0){if(A&128){gs(v,$,g,w,y,E,T,x,S);return}else if(A&256){ut(v,$,g,w,y,E,T,x,S);return}}I&8?(O&16&&Ve(v,y,E),$!==v&&f(g,$)):O&16?I&16?gs(v,$,g,w,y,E,T,x,S):Ve(v,y,E,!0):(O&8&&f(g,""),I&16&&D($,g,w,y,E,T,x,S))},ut=(u,h,g,w,y,E,T,x,S)=>{u=u||Ot,h=h||Ot;const v=u.length,O=h.length,$=Math.min(v,O);let A;for(A=0;A<$;A++){const I=h[A]=S?nt(h[A]):Be(h[A]);C(u[A],I,g,null,y,E,T,x,S)}v>O?Ve(u,y,E,!0,!1,$):D(h,g,w,y,E,T,x,S,$)},gs=(u,h,g,w,y,E,T,x,S)=>{let v=0;const O=h.length;let $=u.length-1,A=O-1;for(;v<=$&&v<=A;){const I=u[v],j=h[v]=S?nt(h[v]):Be(h[v]);if(gt(I,j))C(I,j,g,null,y,E,T,x,S);else break;v++}for(;v<=$&&v<=A;){const I=u[$],j=h[A]=S?nt(h[A]):Be(h[A]);if(gt(I,j))C(I,j,g,null,y,E,T,x,S);else break;$--,A--}if(v>$){if(v<=A){const I=A+1,j=I<O?h[I].el:w;for(;v<=A;)C(null,h[v]=S?nt(h[v]):Be(h[v]),g,j,y,E,T,x,S),v++}}else if(v>A)for(;v<=$;)Le(u[v],y,E,!0),v++;else{const I=v,j=v,K=new Map;for(v=j;v<=A;v++){const ve=h[v]=S?nt(h[v]):Be(h[v]);ve.key!=null&&K.set(ve.key,v)}let V,ie=0;const Oe=A-j+1;let xt=!1,Oi=0;const Ht=new Array(Oe);for(v=0;v<Oe;v++)Ht[v]=0;for(v=I;v<=$;v++){const ve=u[v];if(ie>=Oe){Le(ve,y,E,!0);continue}let Ue;if(ve.key!=null)Ue=K.get(ve.key);else for(V=j;V<=A;V++)if(Ht[V-j]===0&&gt(ve,h[V])){Ue=V;break}Ue===void 0?Le(ve,y,E,!0):(Ht[Ue-j]=v+1,Ue>=Oi?Oi=Ue:xt=!0,C(ve,h[Ue],g,null,y,E,T,x,S),ie++)}const Ai=xt?Vl(Ht):Ot;for(V=Ai.length-1,v=Oe-1;v>=0;v--){const ve=j+v,Ue=h[ve],ki=ve+1<O?h[ve+1].el:w;Ht[v]===0?C(null,Ue,g,ki,y,E,T,x,S):xt&&(V<0||v!==Ai[V]?ft(Ue,g,ki,2):V--)}}},ft=(u,h,g,w,y=null)=>{const{el:E,type:T,transition:x,children:S,shapeFlag:v}=u;if(v&6){ft(u.component.subTree,h,g,w);return}if(v&128){u.suspense.move(h,g,w);return}if(v&64){T.move(u,h,g,vt);return}if(T===ce){n(E,h,g);for(let $=0;$<S.length;$++)ft(S[$],h,g,w);n(u.anchor,h,g);return}if(T===mn){k(u,h,g);return}if(w!==2&&v&1&&x)if(w===0)x.beforeEnter(E),n(E,h,g),ye(()=>x.enter(E),y);else{const{leave:$,delayLeave:A,afterLeave:I}=x,j=()=>n(E,h,g),K=()=>{$(E,()=>{j(),I&&I()})};A?A(E,j,K):K()}else n(E,h,g)},Le=(u,h,g,w=!1,y=!1)=>{const{type:E,props:T,ref:x,children:S,dynamicChildren:v,shapeFlag:O,patchFlag:$,dirs:A}=u;if(x!=null&&Un(x,null,g,u,!0),O&256){h.ctx.deactivate(u);return}const I=O&1&&A,j=!Vt(u);let K;if(j&&(K=T&&T.onVnodeBeforeUnmount)&&De(K,h,u),O&6)ta(u.component,g,w);else{if(O&128){u.suspense.unmount(g,w);return}I&&ht(u,null,h,"beforeUnmount"),O&64?u.type.remove(u,h,g,y,vt,w):v&&(E!==ce||$>0&&$&64)?Ve(v,h,g,!1,!0):(E===ce&&$&384||!y&&O&16)&&Ve(S,h,g),w&&Ti(u)}(j&&(K=T&&T.onVnodeUnmounted)||I)&&ye(()=>{K&&De(K,h,u),I&&ht(u,null,h,"unmounted")},g)},Ti=u=>{const{type:h,el:g,anchor:w,transition:y}=u;if(h===ce){ea(g,w);return}if(h===mn){G(u);return}const E=()=>{i(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(u.shapeFlag&1&&y&&!y.persisted){const{leave:T,delayLeave:x}=y,S=()=>T(g,E);x?x(u.el,E,S):S()}else E()},ea=(u,h)=>{let g;for(;u!==h;)g=d(u),i(u),u=g;i(h)},ta=(u,h,g)=>{const{bum:w,scope:y,update:E,subTree:T,um:x}=u;w&&$s(w),y.stop(),E&&(E.active=!1,Le(T,u,h,g)),x&&ye(x,h),ye(()=>{u.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Ve=(u,h,g,w=!1,y=!1,E=0)=>{for(let T=E;T<u.length;T++)Le(u[T],h,g,w,y)},_s=u=>u.shapeFlag&6?_s(u.component.subTree):u.shapeFlag&128?u.suspense.next():d(u.anchor||u.el),$i=(u,h,g)=>{u==null?h._vnode&&Le(h._vnode,null,null,!0):C(h._vnode||null,u,h,null,null,null,g),Di(),Xo(),h._vnode=u},vt={p:C,um:Le,m:ft,r:Ti,mt:Bt,mc:D,pc:J,pbc:te,n:_s,o:e};let an,ln;return t&&([an,ln]=t(vt)),{render:$i,hydrate:an,createApp:zl($i,an)}}function dt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function wr(e,t,s=!1){const n=e.children,i=t.children;if(P(n)&&P(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=nt(i[o]),a.el=r.el),s||wr(r,a)),a.type===Ys&&(a.el=r.el)}}function Vl(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}const Jl=e=>e.__isTeleport,ce=Symbol(void 0),Ys=Symbol(void 0),Te=Symbol(void 0),mn=Symbol(void 0),Qt=[];let Re=null;function R(e=!1){Qt.push(Re=e?null:[])}function Kl(){Qt.pop(),Re=Qt[Qt.length-1]||null}let ts=1;function Qi(e){ts+=e}function Cr(e){return e.dynamicChildren=ts>0?Re||Ot:null,Kl(),ts>0&&Re&&Re.push(e),e}function B(e,t,s,n,i,o){return Cr(U(e,t,s,n,i,o,!0))}function Ke(e,t,s,n,i){return Cr(be(e,t,s,n,i,!0))}function vr(e){return e?e.__v_isVNode===!0:!1}function gt(e,t){return e.type===t.type&&e.key===t.key}const en="__vInternal",xr=({key:e})=>e??null,As=({ref:e,ref_key:t,ref_for:s})=>e!=null?oe(e)||pe(e)||F(e)?{i:ue,r:e,k:t,f:!!s}:e:null;function U(e,t=null,s=null,n=0,i=null,o=e===ce?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xr(t),ref:t&&As(t),scopeId:Gs,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ue};return a?(di(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=oe(s)?8:16),ts>0&&!r&&Re&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Re.push(l),l}const be=Ql;function Ql(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Al)&&(e=Te),vr(e)){const a=at(e,t,!0);return s&&di(a,s),ts>0&&!o&&Re&&(a.shapeFlag&6?Re[Re.indexOf(e)]=a:Re.push(a)),a.patchFlag|=-2,a}if(ac(e)&&(e=e.__vccOpts),t){t=Gl(t);let{class:a,style:l}=t;a&&!oe(a)&&(t.class=Pt(a)),Y(l)&&(qo(l)&&!P(l)&&(l=me({},l)),t.style=Pe(l))}const r=oe(e)?1:fl(e)?128:Jl(e)?64:Y(e)?4:F(e)?2:0;return U(e,t,s,n,i,r,o,!0)}function Gl(e){return e?qo(e)||en in e?me({},e):e:null}function at(e,t,s=!1){const{props:n,ref:i,patchFlag:o,children:r}=e,a=t?Zl(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&xr(a),ref:t&&t.ref?s&&i?P(i)?i.concat(As(t)):[i,As(t)]:As(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ce?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&at(e.ssContent),ssFallback:e.ssFallback&&at(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ss(e=" ",t=0){return be(Ys,null,e,t)}function ks(e="",t=!1){return t?(R(),Ke(Te,null,e)):be(Te,null,e)}function Be(e){return e==null||typeof e=="boolean"?be(Te):P(e)?be(ce,null,e.slice()):typeof e=="object"?nt(e):be(Ys,null,String(e))}function nt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:at(e)}function di(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(P(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),di(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(en in t)?t._ctx=ue:i===3&&ue&&(ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else F(t)?(t={default:t,_ctx:ue},s=32):(t=String(t),n&64?(s=16,t=[ss(t)]):s=8);e.children=t,e.shapeFlag|=s}function Zl(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Pt([t.class,n.class]));else if(i==="style")t.style=Pe([t.style,n.style]);else if(zs(i)){const o=t[i],r=n[i];r&&o!==r&&!(P(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function De(e,t,s,n=null){Se(e,t,7,[s,n])}const Xl=yr();let Yl=0;function ec(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Xl,o={uid:Yl++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new _a(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mr(n,i),emitsOptions:er(n,i),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:n.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=rl.bind(null,o),e.ce&&e.ce(o),o}let ne=null;const tc=()=>ne||ue,Nt=e=>{ne=e,e.scope.on()},wt=()=>{ne&&ne.scope.off(),ne=null};function Er(e){return e.vnode.shapeFlag&4}let ns=!1;function sc(e,t=!1){ns=t;const{props:s,children:n}=e.vnode,i=Er(e);Ul(e,s,i,t),jl(e,n);const o=i?nc(e,t):void 0;return ns=!1,o}function nc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Wo(new Proxy(e.ctx,Il));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?oc(e):null;Nt(e),Ft();const o=ot(n,e,0,[e.props,i]);if(Dt(),wt(),ko(o)){if(o.then(wt,wt),t)return o.then(r=>{Gi(e,r,t)}).catch(r=>{Ks(r,e,0)});e.asyncDep=o}else Gi(e,o,t)}else Sr(e,t)}function Gi(e,t,s){F(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Y(t)&&(e.setupState=Ko(t)),Sr(e,s)}let Zi;function Sr(e,t,s){const n=e.type;if(!e.render){if(!t&&Zi&&!n.render){const i=n.template||fi(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=me(me({isCustomElement:o,delimiters:a},r),l);n.render=Zi(i,c)}}e.render=n.render||Me}Nt(e),Ft(),Rl(e),Dt(),wt()}function ic(e){return new Proxy(e.attrs,{get(t,s){return we(e,"get","$attrs"),t[s]}})}function oc(e){const t=n=>{e.exposed=n||{}};let s;return{get attrs(){return s||(s=ic(e))},slots:e.slots,emit:e.emit,expose:t}}function tn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ko(Wo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Kt)return Kt[s](e)},has(t,s){return s in t||s in Kt}}))}function rc(e,t=!0){return F(e)?e.displayName||e.name:e.name||t&&e.__name}function ac(e){return F(e)&&"__vccOpts"in e}const Wt=(e,t)=>Ya(e,t,ns),lc=Symbol(""),cc=()=>Os(lc),uc="3.2.47",fc="http://www.w3.org/2000/svg",_t=typeof document<"u"?document:null,Xi=_t&&_t.createElement("template"),hc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t?_t.createElementNS(fc,e):_t.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Xi.innerHTML=n?`<svg>${e}</svg>`:e;const a=Xi.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function dc(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function pc(e,t,s){const n=e.style,i=oe(s);if(s&&!i){if(t&&!oe(t))for(const o in t)s[o]==null&&Fn(n,o,"");for(const o in s)Fn(n,o,s[o])}else{const o=n.display;i?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Yi=/\s*!important$/;function Fn(e,t,s){if(P(s))s.forEach(n=>Fn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=mc(e,t);Yi.test(s)?e.setProperty(Ut(n),s.replace(Yi,""),"important"):e[n]=s}}const eo=["Webkit","Moz","ms"],gn={};function mc(e,t){const s=gn[t];if(s)return s;let n=qe(t);if(n!=="filter"&&n in e)return gn[t]=n;n=Vs(n);for(let i=0;i<eo.length;i++){const o=eo[i]+n;if(o in e)return gn[t]=o}return t}const to="http://www.w3.org/1999/xlink";function gc(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(to,t.slice(6,t.length)):e.setAttributeNS(to,t,s);else{const o=ca(t);s==null||o&&!$o(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function _c(e,t,s,n,i,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,i,o),e[t]=s??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=s;const l=s??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),s==null&&e.removeAttribute(t);return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=$o(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(t)}function $t(e,t,s,n){e.addEventListener(t,s,n)}function bc(e,t,s,n){e.removeEventListener(t,s,n)}function yc(e,t,s,n,i=null){const o=e._vei||(e._vei={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=wc(t);if(n){const c=o[t]=xc(n,i);$t(e,a,c,l)}else r&&(bc(e,a,r,l),o[t]=void 0)}}const so=/(?:Once|Passive|Capture)$/;function wc(e){let t;if(so.test(e)){t={};let n;for(;n=e.match(so);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ut(e.slice(2)),t]}let _n=0;const Cc=Promise.resolve(),vc=()=>_n||(Cc.then(()=>_n=0),_n=Date.now());function xc(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Se(Ec(n,s.value),t,5,[n])};return s.value=e,s.attached=vc(),s}function Ec(e,t){if(P(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const no=/^on[a-z]/,Sc=(e,t,s,n,i=!1,o,r,a,l)=>{t==="class"?dc(e,n,i):t==="style"?pc(e,s,n):zs(t)?Zn(t)||yc(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tc(e,t,n,i))?_c(e,t,n,o,r,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),gc(e,t,n,i))};function Tc(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&no.test(t)&&F(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||no.test(t)&&oe(s)?!1:t in e}const $c={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};_l.props;const io=e=>{const t=e.props["onUpdate:modelValue"]||!1;return P(t)?s=>$s(t,s):t};function Oc(e){e.target.composing=!0}function oo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ac={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e._assign=io(i);const o=n||i.props&&i.props.type==="number";$t(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=En(a)),e._assign(a)}),s&&$t(e,"change",()=>{e.value=e.value.trim()}),t||($t(e,"compositionstart",Oc),$t(e,"compositionend",oo),$t(e,"change",oo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:i}},o){if(e._assign=io(o),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(i||e.type==="number")&&En(e.value)===t))return;const r=t??"";e.value!==r&&(e.value=r)}},kc=["ctrl","shift","alt","meta"],Ic={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kc.some(s=>e[`${s}Key`]&&!t.includes(s))},Ds=(e,t)=>(s,...n)=>{for(let i=0;i<t.length;i++){const o=Ic[t[i]];if(o&&o(s,t))return}return e(s,...n)},Rc=me({patchProp:Sc},hc);let ro;function Pc(){return ro||(ro=ql(Rc))}const Mc=(...e)=>{const t=Pc().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Nc(n);if(!i)return;const o=t._component;!F(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Nc(e){return oe(e)?document.querySelector(e):e}const $e=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},Lc={props:{title:{required:!0,type:String},mode:{required:!1,type:String}},data:()=>({}),mounted:function(){}},Uc=e=>(hs("data-v-b2d7b10a"),e=e(),ds(),e),Fc={class:"info"},Dc=Uc(()=>U("span",{class:"sub-text"}," follow ",-1));function jc(e,t,s,n,i,o){return R(),B("div",Fc,[U("span",null,he(s.title),1),Dc])}const Bc=$e(Lc,[["render",jc],["__scopeId","data-v-b2d7b10a"]]);const Hc={$emits:["close"],methods:{closee(){console.log("Closee() call"),this.main_bg.scrollTo({top:0,behavior:"smooth"})}},computed:{main_bg(){return this.$refs.main_bg}},mounted(){this.main_bg.scrollTop=1,this.main_bg.scrollTo({top:this.main_bg.clientHeight*.9,behavior:"smooth"}),this.main_bg.addEventListener("scroll",e=>{this.main_bg.scrollTop==0&&this.$emit("close")})}},zc=e=>(hs("data-v-3704c221"),e=e(),ds(),e),qc=zc(()=>U("div",{class:"dialog_top"},"=",-1)),Wc={class:"dialog__main"};function Vc(e,t,s,n,i,o){return R(),B("div",{class:"dialog__main__bg",ref:"main_bg",onClick:t[1]||(t[1]=Ds((...r)=>o.closee&&o.closee(...r),["self"]))},[U("div",{class:"dialog_toppad",onClick:t[0]||(t[0]=Ds((...r)=>o.closee&&o.closee(...r),["self"]))}),qc,U("div",Wc,[fr(e.$slots,"default",{},void 0,!0)])],512)}const Tr=$e(Hc,[["render",Vc],["__scopeId","data-v-3704c221"]]),xi=class{constructor(){Fe(this,"globalBadges",{})}static getInstacne(){return this.instacne||(this.instacne=Qe(new xi)),this.instacne}};let Gt=xi;Fe(Gt,"instacne",!1);function Jc(e){for(var t=0,s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);for(var n="#",s=0;s<3;s++){var i=t>>s*8&255;n+=("00"+i.toString(16)).substr(-2)}return n}const Kc={props:{username:{type:String,required:!0},color:{type:String,required:!1},twitch_id:{type:String,required:!1}},inject:["cosmeticClient"],computed:{paint_style(){const e=this.cosmeticClient.getCosmetic(this.$props.twitch_id);return!e||!e.paint_id?{}:{"background-image":`var(--seventv-paint-${e.paint_id}-bg)`,filter:`var(--seventv-paint-${e.paint_id}-filter)`,color:`var(--seventv-paint-${e.paint_id}-color)`}},useColor(){return this.$props.color||Jc(this.$props.username)}}},Qc={key:1,class:"username"};function Gc(e,t,s,n,i,o){return o.cosmeticClient.hasCosmetic(e.$props.twitch_id)?(R(),B("span",{key:0,class:"seventv-painted-content username",style:Pe(o.paint_style)},[U("span",{style:Pe({color:o.useColor})},he(e.$props.username),5)],4)):(R(),B("span",Qc,[U("span",{style:Pe({color:o.useColor})},he(e.$props.username),5)]))}const Zc=$e(Kc,[["render",Gc],["__scopeId","data-v-7adfe907"]]);function Xc(e){for(var t=0,s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);for(var n="#",s=0;s<3;s++){var i=t>>s*8&255;n+=("00"+i.toString(16)).substr(-2)}return n}const Yc={components:{nDialog:Tr,Username:Zc},inject:["cosmeticClient"],emits:["preview"],props:{message:{required:!0,type:Object},channelBadges:{required:!0,type:Object}},data(){return{settings:Gt.getInstacne(),preView:!1,preViewUrl:"",origin:encodeURIComponent(location.origin)}},computed:{frags(){return this.$props.message.msg},tags(){return this.$props.message.tags},mention(){return this.$props.message.mention},userColor(){return this.tags.color||Xc(this.tags.username)},formatedTime:function(){let e=new Date(+this.tags["tmi-sent-ts"]);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}},methods:{pepege(){console.log("Pepege")},openUrl(e){window.open(e,"_blank")},isUrlImage(e){const t=new URL(e).pathname;return t.endsWith(".png")||t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".gif")},showPreview(e){this.preViewUrl=e,this.preView=!0}}},eu={class:"time"},tu={key:0},su=["src","alt"],nu=["src","alt"],iu={key:2},ou=["src"],ru={class:"message--content"},au={key:0,class:Pt({"message--content--emote":!0})},lu=["src","alt"],cu=["onClick","onLongPressStart"],uu={key:4,class:"message--content--unknown"},fu=["src"],hu=["src"];function du(e,t,s,n,i,o){var c,f,p;const r=je("Username"),a=je("nDialog"),l=kl("long-press");return R(),B("div",{class:Pt({message:!0,mention:o.mention,deleted:((c=s.message)==null?void 0:c.isDeleted)&&!i.preView}),ref:"containerRef"},[U("span",eu,he(o.formatedTime+" "),1),o.tags.badges?(R(),B("span",tu,[(R(!0),B(ce,null,Jt(Object.entries(o.tags.badges),([d,m])=>{var b,C,M,N,ee,k;return R(),B("span",{class:"badge",key:d},[(M=(C=(b=e.$props.channelBadges)==null?void 0:b[d])==null?void 0:C.versions)!=null&&M[m]?(R(),B("img",{key:0,src:e.$props.channelBadges[d].versions[m].image_url_1x,alt:`${d}/${m} `},null,8,su)):(k=(ee=(N=i.settings.globalBadges)==null?void 0:N[d])==null?void 0:ee.versions)!=null&&k[m]?(R(),B("img",{key:1,src:i.settings.globalBadges[d].versions[m].image_url_1x,alt:`${d}/${m} `},null,8,nu)):(R(),B("span",iu,he(""+d)+"/"+he(""+m),1))])}),128)),(f=o.cosmeticClient.getCosmetic(o.tags["user-id"]))!=null&&f.badges[0]?(R(!0),B(ce,{key:0},Jt((p=o.cosmeticClient.getCosmetic(o.tags["user-id"]))==null?void 0:p.badges,d=>(R(),B("span",{class:"badge",key:d},[U("img",{src:d,alt:"Custom badge",class:"badge"},null,8,ou)]))),128)):ks("",!0)])):ks("",!0),Rn(be(r,{class:"message--nickname",role:"button",onLongPressStart:t[0]||(t[0]=d=>e.$emit("preview",e.msg)),color:o.tags.color,twitch_id:o.tags["user-id"],username:o.tags["display-name"]+(o.tags["message-type"]!="action"?": ":" ")},null,8,["color","twitch_id","username"]),[[l,300]]),U("span",ru,[(R(!0),B(ce,null,Jt(o.frags,(d,m)=>(R(),B(ce,{key:m+d.text},[d.type=="emote"?(R(),B("div",au,[U("img",{class:Pt({"message--content--emote--image":!0,"message--content--emote--image--zerowidth":d.flags&&d.flags.zeroWidth}),src:d.url,alt:d.text+(m!=o.frags.length-1?" ":""),style:Pe({width:d.width+"px",height:d.height+"px"})},null,14,lu)])):d.type=="text"?(R(),B("span",{key:1,class:"message--content--text",style:Pe({color:o.tags["message-type"]=="action"?o.tags.color:"inherit"})},he(d.text+(m!=o.frags.length-1?" ":"")),5)):d.type=="url"?Rn((R(),B("span",{key:2,class:"url",onClick:()=>o.showPreview(d.text),onLongPressStart:b=>o.openUrl(d.text)},[ss(he(d.text+(m!=o.frags.length-1?" ":"")),1)],40,cu)),[[l,300]]):d.type=="ping"?(R(),Ke(r,{key:3,class:"message--nickname",color:d.user.color,twitch_id:d.user.userId,username:d.text},null,8,["color","twitch_id","username"])):(R(),B("span",uu," *hz xdxing type-"+he(d.type)+"* ",1))],64))),128))]),i.preView?(R(),Ke(a,{key:1,class:"preview-dialog",onClose:t[1]||(t[1]=d=>i.preView=!1)},{default:ui(()=>[o.isUrlImage(i.preViewUrl)?(R(),B("img",{key:0,src:i.preViewUrl,style:{minWidth:"100%"}},null,8,fu)):(R(),B("iframe",{key:1,src:i.preViewUrl,frameborder:"0",height:"100%",width:"100%"},null,8,hu))]),_:1})):ks("",!0)],2)}const pu=$e(Yc,[["render",du],["__scopeId","data-v-30db444a"]]);function $r(e,t){return function(){return e.apply(t,arguments)}}const{toString:Or}=Object.prototype,{getPrototypeOf:pi}=Object,mi=(e=>t=>{const s=Or.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=e=>(e=e.toLowerCase(),t=>mi(t)===e),sn=e=>t=>typeof t===e,{isArray:jt}=Array,is=sn("undefined");function mu(e){return e!==null&&!is(e)&&e.constructor!==null&&!is(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ar=Ye("ArrayBuffer");function gu(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ar(e.buffer),t}const _u=sn("string"),lt=sn("function"),kr=sn("number"),gi=e=>e!==null&&typeof e=="object",bu=e=>e===!0||e===!1,Is=e=>{if(mi(e)!=="object")return!1;const t=pi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yu=Ye("Date"),wu=Ye("File"),Cu=Ye("Blob"),vu=Ye("FileList"),xu=e=>gi(e)&&lt(e.pipe),Eu=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Or.call(e)===t||lt(e.toString)&&e.toString()===t)},Su=Ye("URLSearchParams"),Tu=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),jt(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const o=s?Object.getOwnPropertyNames(e):Object.keys(e),r=o.length;let a;for(n=0;n<r;n++)a=o[n],t.call(null,e[a],a,e)}}function Ir(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Rr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Pr=e=>!is(e)&&e!==Rr;function Dn(){const{caseless:e}=Pr(this)&&this||{},t={},s=(n,i)=>{const o=e&&Ir(t,i)||i;Is(t[o])&&Is(n)?t[o]=Dn(t[o],n):Is(n)?t[o]=Dn({},n):jt(n)?t[o]=n.slice():t[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ps(arguments[n],s);return t}const $u=(e,t,s,{allOwnKeys:n}={})=>(ps(t,(i,o)=>{s&&lt(i)?e[o]=$r(i,s):e[o]=i},{allOwnKeys:n}),e),Ou=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Au=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},ku=(e,t,s,n)=>{let i,o,r;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)r=i[o],(!n||n(r,e,t))&&!a[r]&&(t[r]=e[r],a[r]=!0);e=s!==!1&&pi(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Iu=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Ru=e=>{if(!e)return null;if(jt(e))return e;let t=e.length;if(!kr(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Pu=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pi(Uint8Array)),Mu=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Nu=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Lu=Ye("HTMLFormElement"),Uu=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),ao=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Fu=Ye("RegExp"),Mr=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ps(s,(i,o)=>{t(i,o,e)!==!1&&(n[o]=i)}),Object.defineProperties(e,n)},Du=e=>{Mr(e,(t,s)=>{if(lt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(lt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ju=(e,t)=>{const s={},n=i=>{i.forEach(o=>{s[o]=!0})};return jt(e)?n(e):n(String(e).split(t)),s},Bu=()=>{},Hu=(e,t)=>(e=+e,Number.isFinite(e)?e:t),bn="abcdefghijklmnopqrstuvwxyz",lo="0123456789",Nr={DIGIT:lo,ALPHA:bn,ALPHA_DIGIT:bn+bn.toUpperCase()+lo},zu=(e=16,t=Nr.ALPHA_DIGIT)=>{let s="";const{length:n}=t;for(;e--;)s+=t[Math.random()*n|0];return s};function qu(e){return!!(e&&lt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Wu=e=>{const t=new Array(10),s=(n,i)=>{if(gi(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const o=jt(n)?[]:{};return ps(n,(r,a)=>{const l=s(r,i+1);!is(l)&&(o[a]=l)}),t[i]=void 0,o}}return n};return s(e,0)},_={isArray:jt,isArrayBuffer:Ar,isBuffer:mu,isFormData:Eu,isArrayBufferView:gu,isString:_u,isNumber:kr,isBoolean:bu,isObject:gi,isPlainObject:Is,isUndefined:is,isDate:yu,isFile:wu,isBlob:Cu,isRegExp:Fu,isFunction:lt,isStream:xu,isURLSearchParams:Su,isTypedArray:Pu,isFileList:vu,forEach:ps,merge:Dn,extend:$u,trim:Tu,stripBOM:Ou,inherits:Au,toFlatObject:ku,kindOf:mi,kindOfTest:Ye,endsWith:Iu,toArray:Ru,forEachEntry:Mu,matchAll:Nu,isHTMLForm:Lu,hasOwnProperty:ao,hasOwnProp:ao,reduceDescriptors:Mr,freezeMethods:Du,toObjectSet:ju,toCamelCase:Uu,noop:Bu,toFiniteNumber:Hu,findKey:Ir,global:Rr,isContextDefined:Pr,ALPHABET:Nr,generateString:zu,isSpecCompliantForm:qu,toJSONObject:Wu};function z(e,t,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i)}_.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lr=z.prototype,Ur={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ur[e]={value:e}});Object.defineProperties(z,Ur);Object.defineProperty(Lr,"isAxiosError",{value:!0});z.from=(e,t,s,n,i,o)=>{const r=Object.create(Lr);return _.toFlatObject(e,r,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),z.call(r,e.message,t,s,n,i),r.cause=e,r.name=e.name,o&&Object.assign(r,o),r};const Vu=null;function jn(e){return _.isPlainObject(e)||_.isArray(e)}function Fr(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function co(e,t,s){return e?e.concat(t).map(function(i,o){return i=Fr(i),!s&&o?"["+i+"]":i}).join(s?".":""):t}function Ju(e){return _.isArray(e)&&!e.some(jn)}const Ku=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function nn(e,t,s){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=_.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,M){return!_.isUndefined(M[C])});const n=s.metaTokens,i=s.visitor||f,o=s.dots,r=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(_.isDate(b))return b.toISOString();if(!l&&_.isBlob(b))throw new z("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(b)||_.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,C,M){let N=b;if(b&&!M&&typeof b=="object"){if(_.endsWith(C,"{}"))C=n?C:C.slice(0,-2),b=JSON.stringify(b);else if(_.isArray(b)&&Ju(b)||(_.isFileList(b)||_.endsWith(C,"[]"))&&(N=_.toArray(b)))return C=Fr(C),N.forEach(function(k,G){!(_.isUndefined(k)||k===null)&&t.append(r===!0?co([C],G,o):r===null?C:C+"[]",c(k))}),!1}return jn(b)?!0:(t.append(co(M,C,o),c(b)),!1)}const p=[],d=Object.assign(Ku,{defaultVisitor:f,convertValue:c,isVisitable:jn});function m(b,C){if(!_.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(b),_.forEach(b,function(N,ee){(!(_.isUndefined(N)||N===null)&&i.call(t,N,_.isString(ee)?ee.trim():ee,C,d))===!0&&m(N,C?C.concat(ee):[ee])}),p.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return m(e),t}function uo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function _i(e,t){this._pairs=[],e&&nn(e,this,t)}const Dr=_i.prototype;Dr.append=function(t,s){this._pairs.push([t,s])};Dr.toString=function(t){const s=t?function(n){return t.call(this,n,uo)}:uo;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Qu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jr(e,t,s){if(!t)return e;const n=s&&s.encode||Qu,i=s&&s.serialize;let o;if(i?o=i(t,s):o=_.isURLSearchParams(t)?t.toString():new _i(t,s).toString(n),o){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Gu{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(n){n!==null&&t(n)})}}const fo=Gu,Br={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zu=typeof URLSearchParams<"u"?URLSearchParams:_i,Xu=FormData,Yu=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ef=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ze={isBrowser:!0,classes:{URLSearchParams:Zu,FormData:Xu,Blob},isStandardBrowserEnv:Yu,isStandardBrowserWebWorkerEnv:ef,protocols:["http","https","file","blob","url","data"]};function tf(e,t){return nn(e,new ze.classes.URLSearchParams,Object.assign({visitor:function(s,n,i,o){return ze.isNode&&_.isBuffer(s)?(this.append(n,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function sf(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nf(e){const t={},s=Object.keys(e);let n;const i=s.length;let o;for(n=0;n<i;n++)o=s[n],t[o]=e[o];return t}function Hr(e){function t(s,n,i,o){let r=s[o++];const a=Number.isFinite(+r),l=o>=s.length;return r=!r&&_.isArray(i)?i.length:r,l?(_.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!a):((!i[r]||!_.isObject(i[r]))&&(i[r]=[]),t(s,n,i[r],o)&&_.isArray(i[r])&&(i[r]=nf(i[r])),!a)}if(_.isFormData(e)&&_.isFunction(e.entries)){const s={};return _.forEachEntry(e,(n,i)=>{t(sf(n),i,s,0)}),s}return null}const of={"Content-Type":void 0};function rf(e,t,s){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const on={transitional:Br,adapter:["xhr","http"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,o=_.isObject(t);if(o&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return i&&i?JSON.stringify(Hr(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tf(t,this.formSerializer).toString();if((a=_.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return nn(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(s.setContentType("application/json",!1),rf(t)):t}],transformResponse:[function(t){const s=this.transitional||on.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(t&&_.isString(t)&&(n&&!this.responseType||i)){const r=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(r)throw a.name==="SyntaxError"?z.from(a,z.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_.forEach(["delete","get","head"],function(t){on.headers[t]={}});_.forEach(["post","put","patch"],function(t){on.headers[t]=_.merge(of)});const bi=on,af=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lf=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(r){i=r.indexOf(":"),s=r.substring(0,i).trim().toLowerCase(),n=r.substring(i+1).trim(),!(!s||t[s]&&af[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},ho=Symbol("internals");function zt(e){return e&&String(e).trim().toLowerCase()}function Rs(e){return e===!1||e==null?e:_.isArray(e)?e.map(Rs):String(e)}function cf(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}function uf(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function yn(e,t,s,n){if(_.isFunction(n))return n.call(this,t,s);if(_.isString(t)){if(_.isString(n))return t.indexOf(n)!==-1;if(_.isRegExp(n))return n.test(t)}}function ff(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function hf(e,t){const s=_.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,o,r){return this[n].call(this,t,i,o,r)},configurable:!0})})}class rn{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function o(a,l,c){const f=zt(l);if(!f)throw new Error("header name must be a non-empty string");const p=_.findKey(i,f);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||l]=Rs(a))}const r=(a,l)=>_.forEach(a,(c,f)=>o(c,f,l));return _.isPlainObject(t)||t instanceof this.constructor?r(t,s):_.isString(t)&&(t=t.trim())&&!uf(t)?r(lf(t),s):t!=null&&o(s,t,n),this}get(t,s){if(t=zt(t),t){const n=_.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return cf(i);if(_.isFunction(s))return s.call(this,i,n);if(_.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=zt(t),t){const n=_.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||yn(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function o(r){if(r=zt(r),r){const a=_.findKey(n,r);a&&(!s||yn(n,n[a],a,s))&&(delete n[a],i=!0)}}return _.isArray(t)?t.forEach(o):o(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const o=s[n];(!t||yn(this,this[o],o,t))&&(delete this[o],i=!0)}return i}normalize(t){const s=this,n={};return _.forEach(this,(i,o)=>{const r=_.findKey(n,o);if(r){s[r]=Rs(i),delete s[o];return}const a=t?ff(o):String(o).trim();a!==o&&delete s[o],s[a]=Rs(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return _.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&_.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[ho]=this[ho]={accessors:{}}).accessors,i=this.prototype;function o(r){const a=zt(r);n[a]||(hf(i,r),n[a]=!0)}return _.isArray(t)?t.forEach(o):o(t),this}}rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.freezeMethods(rn.prototype);_.freezeMethods(rn);const Ge=rn;function wn(e,t){const s=this||bi,n=t||s,i=Ge.from(n.headers);let o=n.data;return _.forEach(e,function(a){o=a.call(s,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function zr(e){return!!(e&&e.__CANCEL__)}function ms(e,t,s){z.call(this,e??"canceled",z.ERR_CANCELED,t,s),this.name="CanceledError"}_.inherits(ms,z,{__CANCEL__:!0});function df(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new z("Request failed with status code "+s.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const pf=ze.isStandardBrowserEnv?function(){return{write:function(s,n,i,o,r,a){const l=[];l.push(s+"="+encodeURIComponent(n)),_.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),_.isString(o)&&l.push("path="+o),_.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(s){const n=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function mf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gf(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function qr(e,t){return e&&!mf(t)?gf(e,t):t}const _f=ze.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let n;function i(o){let r=o;return t&&(s.setAttribute("href",r),r=s.href),s.setAttribute("href",r),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return n=i(window.location.href),function(r){const a=_.isString(r)?i(r):r;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function bf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yf(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,o=0,r;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),f=n[o];r||(r=c),s[i]=l,n[i]=c;let p=o,d=0;for(;p!==i;)d+=s[p++],p=p%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-r<t)return;const m=f&&c-f;return m?Math.round(d*1e3/m):void 0}}function po(e,t){let s=0;const n=yf(50,250);return i=>{const o=i.loaded,r=i.lengthComputable?i.total:void 0,a=o-s,l=n(a),c=o<=r;s=o;const f={loaded:o,total:r,progress:r?o/r:void 0,bytes:a,rate:l||void 0,estimated:l&&r&&c?(r-o)/l:void 0,event:i};f[t?"download":"upload"]=!0,e(f)}}const wf=typeof XMLHttpRequest<"u",Cf=wf&&function(e){return new Promise(function(s,n){let i=e.data;const o=Ge.from(e.headers).normalize(),r=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}_.isFormData(i)&&(ze.isStandardBrowserEnv||ze.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const m=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+b))}const f=qr(e.baseURL,e.url);c.open(e.method.toUpperCase(),jr(f,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function p(){if(!c)return;const m=Ge.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),C={data:!r||r==="text"||r==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:m,config:e,request:c};df(function(N){s(N),l()},function(N){n(N),l()},C),c=null}if("onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){c&&(n(new z("Request aborted",z.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new z("Network Error",z.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let b=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const C=e.transitional||Br;e.timeoutErrorMessage&&(b=e.timeoutErrorMessage),n(new z(b,C.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,c)),c=null},ze.isStandardBrowserEnv){const m=(e.withCredentials||_f(f))&&e.xsrfCookieName&&pf.read(e.xsrfCookieName);m&&o.set(e.xsrfHeaderName,m)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&_.forEach(o.toJSON(),function(b,C){c.setRequestHeader(C,b)}),_.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),r&&r!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",po(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",po(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=m=>{c&&(n(!m||m.type?new ms(null,e,c):m),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const d=bf(f);if(d&&ze.protocols.indexOf(d)===-1){n(new z("Unsupported protocol "+d+":",z.ERR_BAD_REQUEST,e));return}c.send(i||null)})},Ps={http:Vu,xhr:Cf};_.forEach(Ps,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vf={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:t}=e;let s,n;for(let i=0;i<t&&(s=e[i],!(n=_.isString(s)?Ps[s.toLowerCase()]:s));i++);if(!n)throw n===!1?new z(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(_.hasOwnProp(Ps,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!_.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ps};function Cn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ms(null,e)}function mo(e){return Cn(e),e.headers=Ge.from(e.headers),e.data=wn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vf.getAdapter(e.adapter||bi.adapter)(e).then(function(n){return Cn(e),n.data=wn.call(e,e.transformResponse,n),n.headers=Ge.from(n.headers),n},function(n){return zr(n)||(Cn(e),n&&n.response&&(n.response.data=wn.call(e,e.transformResponse,n.response),n.response.headers=Ge.from(n.response.headers))),Promise.reject(n)})}const go=e=>e instanceof Ge?e.toJSON():e;function Lt(e,t){t=t||{};const s={};function n(c,f,p){return _.isPlainObject(c)&&_.isPlainObject(f)?_.merge.call({caseless:p},c,f):_.isPlainObject(f)?_.merge({},f):_.isArray(f)?f.slice():f}function i(c,f,p){if(_.isUndefined(f)){if(!_.isUndefined(c))return n(void 0,c,p)}else return n(c,f,p)}function o(c,f){if(!_.isUndefined(f))return n(void 0,f)}function r(c,f){if(_.isUndefined(f)){if(!_.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function a(c,f,p){if(p in t)return n(c,f);if(p in e)return n(void 0,c)}const l={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(c,f)=>i(go(c),go(f),!0)};return _.forEach(Object.keys(e).concat(Object.keys(t)),function(f){const p=l[f]||i,d=p(e[f],t[f],f);_.isUndefined(d)&&p!==a||(s[f]=d)}),s}const Wr="1.3.2",yi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _o={};yi.transitional=function(t,s,n){function i(o,r){return"[Axios v"+Wr+"] Transitional option '"+o+"'"+r+(n?". "+n:"")}return(o,r,a)=>{if(t===!1)throw new z(i(r," has been removed"+(s?" in "+s:"")),z.ERR_DEPRECATED);return s&&!_o[r]&&(_o[r]=!0,console.warn(i(r," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,r,a):!0}};function xf(e,t,s){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],r=t[o];if(r){const a=e[o],l=a===void 0||r(a,o,e);if(l!==!0)throw new z("option "+o+" must be "+l,z.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new z("Unknown option "+o,z.ERR_BAD_OPTION)}}const Bn={assertOptions:xf,validators:yi},st=Bn.validators;class js{constructor(t){this.defaults=t,this.interceptors={request:new fo,response:new fo}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Lt(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:o}=s;n!==void 0&&Bn.assertOptions(n,{silentJSONParsing:st.transitional(st.boolean),forcedJSONParsing:st.transitional(st.boolean),clarifyTimeoutError:st.transitional(st.boolean)},!1),i!==void 0&&Bn.assertOptions(i,{encode:st.function,serialize:st.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r;r=o&&_.merge(o.common,o[s.method]),r&&_.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),s.headers=Ge.concat(r,o);const a=[];let l=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(s)===!1||(l=l&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const c=[];this.interceptors.response.forEach(function(C){c.push(C.fulfilled,C.rejected)});let f,p=0,d;if(!l){const b=[mo.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,c),d=b.length,f=Promise.resolve(s);p<d;)f=f.then(b[p++],b[p++]);return f}d=a.length;let m=s;for(p=0;p<d;){const b=a[p++],C=a[p++];try{m=b(m)}catch(M){C.call(this,M);break}}try{f=mo.call(this,m)}catch(b){return Promise.reject(b)}for(p=0,d=c.length;p<d;)f=f.then(c[p++],c[p++]);return f}getUri(t){t=Lt(this.defaults,t);const s=qr(t.baseURL,t.url);return jr(s,t.params,t.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(t){js.prototype[t]=function(s,n){return this.request(Lt(n||{},{method:t,url:s,data:(n||{}).data}))}});_.forEach(["post","put","patch"],function(t){function s(n){return function(o,r,a){return this.request(Lt(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}js.prototype[t]=s(),js.prototype[t+"Form"]=s(!0)});const Ms=js;class wi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const r=new Promise(a=>{n.subscribe(a),o=a}).then(i);return r.cancel=function(){n.unsubscribe(o)},r},t(function(o,r,a){n.reason||(n.reason=new ms(o,r,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new wi(function(i){t=i}),cancel:t}}}const Ef=wi;function Sf(e){return function(s){return e.apply(null,s)}}function Tf(e){return _.isObject(e)&&e.isAxiosError===!0}const Hn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hn).forEach(([e,t])=>{Hn[t]=e});const $f=Hn;function Vr(e){const t=new Ms(e),s=$r(Ms.prototype.request,t);return _.extend(s,Ms.prototype,t,{allOwnKeys:!0}),_.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return Vr(Lt(e,i))},s}const re=Vr(bi);re.Axios=Ms;re.CanceledError=ms;re.CancelToken=Ef;re.isCancel=zr;re.VERSION=Wr;re.toFormData=nn;re.AxiosError=z;re.Cancel=re.CanceledError;re.all=function(t){return Promise.all(t)};re.spread=Sf;re.isAxiosError=Tf;re.mergeConfig=Lt;re.AxiosHeaders=Ge;re.formToJSON=e=>Hr(_.isHTMLForm(e)?new FormData(e):e);re.HttpStatusCode=$f;re.default=re;const Et=re;var Bs,Jr;class Of{constructor(){Ae(this,Bs);Fe(this,"emoteSets",new Map);Fe(this,"channels",[]);Fe(this,"globalEmotes",new Map)}async initialaizeClient(){await xe(this,Bs,Jr).call(this)}tryGetEmote(t,s){if(this.globalEmotes.has(s))return this.globalEmotes.get(s);if(this.emoteSets.has(t)){if(this.emoteSets.get(t).has(s))return this.emoteSets.get(t).get(s)}else return null;return null}async _downloadEmoteSet(t,s){var l;let n=new Map,i=(await Promise.all([Et.get(`https://api.betterttv.net/3/cached/users/twitch/${s}`),Et.get(`https://api.frankerfacez.com/v1/room/${t}`),Et.get(`https://api.7tv.app/v2/users/${t}/emotes`)])).map(c=>c.data),o=i[0],r=i[1],a=i[2];if(o.channelEmotes)for(let c of Object.values(o))for(let f of c)n.set(f.code,{authorName:((l=f.user)==null?void 0:l.displayName)??"Channel BTTV emote",name:f.code,imgs:[28,56,112].map((p,d)=>({level:d,heigth:p,width:p,url:`https://cdn.betterttv.net/emote/${f.id}/${d+1}x`})),originalUrl:`https://betterttv.com/emotes/${f.id}`,platform:"bttv",zw:!1});if(r.sets)for(let c in r.sets)for(let f of r.sets[c].emoticons)n.set(f.name,{authorName:f.owner.display_name,name:f.name,imgs:Object.entries(f.urls).map(([p,d],m)=>({url:d,width:f.width*(m+1),heigth:f.height*(m+1),level:+p})),originalUrl:`https://www.frankerfacez.com/emoticon/${f.id}-${f.name}`,platform:"ffz",zw:!1});if(a[0])for(let c of a)n.set(c.name,{authorName:c.owner.display_name,name:c.name,imgs:c.urls.map((f,p)=>({heigth:c.height[p],width:c.width[p],level:+f[0],url:f[1]})),originalUrl:`https://7tv.app/emotes/${c.id}`,platform:"7tv",zw:c.visibility_simple.includes("ZERO_WIDTH")});this.emoteSets.set(+s,n)}}Bs=new WeakSet,Jr=async function(){var r;const t=["SoSnowy","IceCold","SantaHat","TopHat","ReinDeer","CandyCane","cvMask","cvHazmat"];let s=(await Promise.all([Et.get("https://api.betterttv.net/3/cached/emotes/global"),Et.get("https://api.frankerfacez.com/v1/set/global"),Et.get("https://api.7tv.app/v2/emotes/global")])).map(a=>a.data),n=s[0],i=s[1],o=s[2];for(let a of n)this.globalEmotes.set(a.code,{authorName:"Global BTTV emote",name:a.code,imgs:[28,56,112].map((l,c)=>({level:c,heigth:l,width:l,url:`https://cdn.betterttv.net/emote/${a.id}/${c+1}x`})),originalUrl:`https://betterttv.com/emotes/${a.id}`,platform:"bttv",zw:t.includes(a.code)});for(let a of(r=i.sets[3])==null?void 0:r.emoticons)this.globalEmotes.set(a.name,{authorName:"Global FFZ emote",name:a.name,imgs:Object.entries(a.urls).map(([l,c],f)=>({url:c,width:a.width*(f+1),heigth:a.height*(f+1),level:+l})),originalUrl:`https://www.frankerfacez.com/emoticon/${a.id}-${a.name}`,platform:"ffz",zw:!1});for(let a of o)this.globalEmotes.set(a.name,{authorName:a.owner.display_name+" 7tv global emote",name:a.name,imgs:a.urls.map((l,c)=>({heigth:a.height[c],width:a.width[c],level:+l[0],url:l[1]})),originalUrl:`https://7tv.app/emotes/${a.id}`,platform:"7tv",zw:a.visibility_simple.includes("ZERO_WIDTH")})};const Af=/https?:\/\/([-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9]{2,6}|([0-9]{1,3}\.){3}[0-9]{1,3})\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi,Kr=new Of;Kr.initialaizeClient();const zn=new Map;zn.set("romainstant1",{color:"#343434",userId:"149601795"});class kf{constructor(t,s){Fe(this,"emotes",Kr);this.channel_id=s,this.channelLogin=t}async init(){this.emotes._downloadEmoteSet(this.channelLogin,this.channel_id)}parseMessage(t,s){let n=t.split(" ");const i=new Map;if(s.emotes)for(const r in s.emotes){const[a,l]=s.emotes[r][0].split("-"),c=t.substring(+a,+l+1);i.set(c,r)}let o=[];for(let r of n)if(this.emotes.tryGetEmote(+this.channel_id,r)){let a=this.emotes.tryGetEmote(+this.channel_id,r);o.push({text:r,type:"emote",url:a.imgs[0].url,flags:{zeroWidth:a.zw},width:a.imgs[0].width,height:a.imgs[0].heigth})}else i.has(r)?o.push({text:r,type:"emote",url:`https://static-cdn.jtvnw.net/emoticons/v2/${i.get(r)}/default/dark/1.0`,flags:{zeroWidth:!1},width:28,height:28}):r.match(Af)?o.push({text:r,type:"url"}):r[0]=="@"&&zn.has(r.replace(",","").replace("@",""))?(o.push({type:"ping",text:r.replace(",",""),user:zn.get(r.replace(",","").replace("@",""))}),r.endsWith(",")&&o.push({type:"text",text:","})):o[o.length-1]&&o[o.length-1].type=="text"?o[o.length-1].text+=" "+r:o.push({text:r,type:"text"});return o}}const If={name:"Loader"},Rf={class:"three-quarters-loader"};function Pf(e,t,s,n,i,o){return R(),B("div",Rf)}const Qr=$e(If,[["render",Pf],["__scopeId","data-v-9d3f397c"]]);const Mf={components:{Message:pu},props:{messages:{required:!0,type:Array},channelBadges:{required:!0,type:Object}}},Nf={class:"message-list"};function Lf(e,t,s,n,i,o){const r=je("message");return R(),B("div",Nf,[(R(!0),B(ce,null,Jt(s.messages,a=>(R(),Ke(r,{class:"message",message:a,key:a.tags.id,channelBadges:s.channelBadges,ref_for:!0,ref:l=>a.ref=l},null,8,["message","channelBadges"]))),128))])}const Uf=$e(Mf,[["render",Lf],["__scopeId","data-v-7651fa57"]]);const Ff={components:{MessageList:Uf,Loader:Qr},props:{client:{required:!0,type:Object},channelLogin:{required:!0,type:String},channelId:{required:!0,type:String},messageHistoryLength:{required:!1,type:Number,default:100}},data:()=>({messages:[],parser:null,mentionsMarks:[],debug:{},channelBadges:{},histIid:!1,scrollSnapped:!0}),computed:{mentionsOverlay(){return this.$refs.mentionsOverlay},messagesDiv(){return this.$refs.messagesDiv},scrollView(){return this.$refs.scrollView},mentionMarksDyn(){var c,f,p,d;const e=+((c=this.$refs.mentionsOverlay)==null?void 0:c.clientHeight),t=+((f=this.$refs.messagesDiv)==null?void 0:f.clientHeight);if(isNaN(e)||isNaN(t))return this.messages.map(m=>m),[];const s=this.messages.length,n=e/s,i=e/250;this.debug={totalBarHeight:e,totalMessagesHeight:t,markHeight:n,length:s,minMarkHeight:i};const o=e/t,r=t/s,a=[];let l=0;for(const m of this.messages){const b=(d=(p=m==null?void 0:m.ref)==null?void 0:p.$refs)==null?void 0:d.containerRef,M=((b==null?void 0:b.clientHeight)??r)*o;isNaN(M)||(m.mention&&a.push({color:{r:255,g:0,b:0},y:l,height:Math.max(M,i)}),l+=M)}return a}},methods:{subscribeEvent(){let e=this.$props.client;e.on("message",this.clientOnMessage),e.on("ban",(t,s,n,i)=>{console.log("[  on.ban  ]",{channel:t,user:s,reason:n,tags:i});const o=i["tmi-sent-ts"]??i["rm-received-ts"]??Date.now();if(this.messages.find(a=>+a.tags["target-user-id"]==+i["target-user-id"]&&+a.tags["ban-duration"]==+i["ban-duration"]&&Math.abs(+a.tags["tmi-sent-ts"]-o)<1e3))return;this.messages.filter(a=>a.tags["user-id"]==i["target-user-id"]&&+a.tags["tmi-sent-ts"]<+i["tmi-sent-ts"]).forEach(a=>a.isDeleted=!0);const r=Wt(()=>{var a;return"* "+((a=e.getCachedUserinfoById(+i["target-user-id"]))==null?void 0:a.displayName)});this.messages.push(Qe({msg:[{type:"text",text:"получил бан"}],tags:{"target-user-id":i["target-user-id"],"ban-duration":-1,"room-id":i["room-id"],username:"* "+r,"message-type":"action",color:"#f00","tmi-sent-ts":o,id:i["room-id"]+":"+i["target-user-id"]+":"+o},mention:!1})),this.messages.sort((a,l)=>+a.tags["tmi-sent-ts"]-+l.tags["tmi-sent-ts"])}),e.on("timeout",(t,s,n,i,o)=>{const r=o["tmi-sent-ts"]??o["rm-received-ts"]??Date.now();if(this.messages.find(l=>+l.tags["target-user-id"]==+o["target-user-id"]&&+l.tags["ban-duration"]==+o["ban-duration"]&&Math.abs(+l.tags["tmi-sent-ts"]-r)<1e3))return;console.log("[on.timeout]",{channel:t,user:s,reason:n,duration:i,tags:o}),this.messages.filter(l=>l.tags["user-id"]==o["target-user-id"]&&+l.tags["tmi-sent-ts"]<+o["tmi-sent-ts"]).map(l=>l.isDeleted=!0);const a=Wt(()=>{var l;return"* "+((l=e.getCachedUserinfoById(+o["target-user-id"]))==null?void 0:l.displayName)});this.messages.push(Qe({msg:[{type:"text",text:`получил мут на ${o["ban-duration"]} сек.`}],tags:{"target-user-id":o["target-user-id"],"ban-duration":o["ban-duration"]??-1,"room-id":o["room-id"],username:a,"message-type":"action",color:"#f00","tmi-sent-ts":r,id:o["room-id"]+":"+o["target-user-id"]+":"+r},mention:!1})),this.messages.sort((l,c)=>+l.tags["tmi-sent-ts"]-+c.tags["tmi-sent-ts"])})},unsubscribeEvent(){let e=this.$props.client;e.removeListener("message",this.clientOnMessage),console.log("unsubscribeEvent",e)},clientOnMessage(e,t,s,n){if(this.$props.client,t.id&&this.messages.find(i=>i.tags.id==t.id)){console.log("Message duped");return}this.messages.push(Qe({tags:t,msg:Wt(()=>this.parser.parseMessage(s,t)),mention:Wt(()=>this.client.getUsername()&&s.toLocaleLowerCase().includes(this.client.getUsername())),isDeleted:!!t["rm-deleted"]||!!this.messages.find(i=>+i.tags["tmi-sent-ts"]>+t["tmi-sent-ts"]&&i.tags["ban-duration"]&&i.tags["target-user-id"]==t["user-id"]),ref:null})),this.messages.sort((i,o)=>+i.tags["tmi-sent-ts"]-+o.tags["tmi-sent-ts"]),this.messages.length>this.$props.messageHistoryLength+1&&this.messages.splice(0,this.messages.length-this.$props.messageHistoryLength)},updateMentionScrollBar(){var r,a;const e=+((r=this.mentionsOverlay)==null?void 0:r.clientHeight),t=+((a=this.messagesDiv)==null?void 0:a.clientHeight);if(e==null||t==null)return;this.mentionsMarks=[];let s=this.messages.reduce((l,c,f)=>(c.mention&&l.push(f),l),[]),n=this.messages.length,i=e/n;const o=e/250;if(this.debug={totalBarHeight:e,totalMessagesHeight:t,markHeight:i,length:n,minMarkHeight:o},i!=1){for(let l of s){let c={color:{r:255,b:0,g:0},y:Math.floor(i*l),height:Math.max(Math.ceil(i),o)};this.mentionsMarks.push(c)}return this.mentionsMarks}}},async mounted(){(async()=>this.channelBadges=(await(await fetch(`https://badges.twitch.tv/v1/badges/channels/${this.$props.channelId}/display`)).json()).badge_sets)(),this.parser=new kf(this.channelLogin,this.channelId),await this.parser.init(),this.subscribeEvent();let e=await(await fetch(`https://recent-messages.robotty.de/api/v2/recent-messages/${encodeURIComponent(this.$props.channelLogin)}?limit=${encodeURIComponent(this.$props.messageHistoryLength)}`)).json();if(e.error&&console.log("Message history error: "+e.error+" | "+e.error_code),e.messages){let t=e.messages;t=t.slice(-this.$props.messageHistoryLength),t=t.map(n=>n[0]=="@"?`@history=1;${n.slice(1)}`:n);const s=this;this.histIid=setTimeout(function n(){s.$props.client&&(s.$props.client._onMessage({data:t.splice(-2,2).join(`\r
`)}),t.length>0?this.histIid=setTimeout(n,20):this.histIid=!1)})}this.scrollView.addEventListener("scroll",()=>{this.scrollView.scrollTop>-.5?(this.scrollView.scrollTo({top:0,behavior:"smooth"}),this.scrollSnapped=!0):this.scrollSnapped=!1}),console.log(this)},beforeUnmount(){console.log("beforeUnmount",this),this.unsubscribeEvent(),this.histIid&&clearTimeout(this.histIid)},unmounted(){console.log("unmounted",this)}},Df={class:"container"},jf={class:"scrollView",ref:"scrollView",style:{"--scroll-width":"16px"}},Bf={ref:"messagesDiv"},Hf={class:"over",ref:"mentionsOverlay"},zf=["width","x","y","height"];function qf(e,t,s,n,i,o){const r=je("MessageList");return R(),B("div",Df,[U("div",jf,[U("div",Bf,[be(r,{messages:e.messages,channelBadges:e.channelBadges},null,8,["messages","channelBadges"])],512)],512),(R(),B("svg",Hf,[(R(!0),B(ce,null,Jt(o.mentionMarksDyn,(a,l)=>{var c,f;return R(),B("rect",{key:l,width:(((c=o.mentionsOverlay)==null?void 0:c.clientWidth)??17)/2,x:(((f=o.mentionsOverlay)==null?void 0:f.clientWidth)??17)/4,y:a.y,style:Pe(`fill:rgba(${a.color.r},${a.color.g},${a.color.b},0.4)`),height:a.height},null,12,zf)}),128))],512))])}const Wf=$e(Ff,[["render",qf],["__scopeId","data-v-6200924c"]]);const Vf={props:{client:{required:!0,type:Object},channelLogin:{required:!0,type:String},channelId:{required:!0,type:String}},data:()=>({text:""}),computed:{username(){return this.client.getUsername()}},methods:{goo(){if(this.text.startsWith("horny-go:")){location.href=this.text.slice(9);return}this.client.say(this.channelLogin,this.text),this.text=""}},mounted(){console.log(this.client)}},Gr=e=>(hs("data-v-4aecbf28"),e=e(),ds(),e),Jf=Gr(()=>U("div",{class:"emotes"},"🖕",-1)),Kf=Gr(()=>U("button",{type:"submit"},"▶",-1));function Qf(e,t,s,n,i,o){return R(),B("form",{class:"input-main",onSubmit:t[1]||(t[1]=Ds((...r)=>o.goo&&o.goo(...r),["prevent"])),autocomplete:"off"},[Jf,Rn(U("input",{type:"search","onUpdate:modelValue":t[0]||(t[0]=r=>e.text=r),class:"input",autocomplete:"chat-message"},null,512),[[Ac,e.text]]),Kf],32)}const Gf=$e(Vf,[["render",Qf],["__scopeId","data-v-4aecbf28"]]);const Zf={emits:["close"],props:{canClose:{required:!1,type:Boolean,default:!0}},data:()=>({height:"auto",miny:null,maxy:null,maxed:!1,mined:!1,hold:!1,animation:null}),mounted(){},methods:{resizeToMax(){if(this.hold){requestAnimationFrame(this.resizeToMax);return}let e=Math.abs(this.maxy-this.height)**.5;if(this.height=e>1?this.height-e:this.maxy,this.height==this.maxy){this.maxed=!1;return}requestAnimationFrame(this.resizeToMax)},resizeToMinAndClose(){if(this.hold){requestAnimationFrame(this.resizeToMinAndClose);return}this.mined&&(this.$refs.parent.animate([{top:"0px"},{top:"100%"}],500),setTimeout(()=>{this.$props.canClose&&this.$emit("close")},400))}},watch:{maxed(){this.maxed&&this.resizeToMax()},mined(){this.mined&&this.resizeToMinAndClose()}}},Xf={ref:"move",class:"moveble"},Yf={class:"dialog-body"};function eh(e,t,s,n,i,o){return R(),B("div",{class:"bg-dialog-main",onClick:t[0]||(t[0]=Ds(r=>e.$emit("close"),["self"]))},[U("div",{ref:"parent",class:"dialog-main",style:Pe({height:e.height,animation:e.animation})},[U("div",Xf,"=",512),U("div",Yf,[fr(e.$slots,"default",{},void 0,!0)])],4)])}const th=$e(Zf,[["render",eh],["__scopeId","data-v-e78b8cdb"]]);const sh={props:{nickname:{required:!0,type:String},id:{required:!0,type:String}},data:()=>({createdAt:"",followAt:""}),async mounted(){}},nh=e=>(hs("data-v-14546b5f"),e=e(),ds(),e),ih={class:"card__container"},oh={class:"wrapper"},rh={class:"main__info__container"},ah=["src"],lh={class:"main__info__text"},ch=nh(()=>U("div",{class:"sub__info__container"},[U("span",null,[U("input",{type:"checkbox"}),ss(" Block ")]),U("span",null,[U("input",{type:"checkbox"}),ss(" Ignore mentions ")])],-1));function uh(e,t,s,n,i,o){return R(),B("div",ih,[U("div",oh,[U("div",rh,[U("img",{src:"https://static-cdn.jtvnw.net/jtv_user_pictures/fda99078-f5d7-45ec-aeee-2d860e9260f3-profile_image-300x300.png",alt:"user ico",class:"user__ico"},null,8,ah),U("div",lh,[U("span",null,he(s.nickname),1),U("span",null,"Id: "+he(s.id),1),U("span",null,"Created at: "+he(e.createdAt),1),U("span",null,"Following since: "+he(e.followAt),1)])]),ch])])}const fh=$e(sh,[["render",uh],["__scopeId","data-v-14546b5f"]]);const hh={props:{emoteName:{required:!0,type:String},emoteUrl:{required:!0,type:String}}},Zr=e=>(hs("data-v-b879c0be"),e=e(),ds(),e),dh={class:"prew__container"},ph={class:"img__container"},mh=["src","alt"],gh={class:"description"},_h={class:"emote__name"},bh=Zr(()=>U("span",{class:"emote__source"},he("FFZ Emote"),-1)),yh=Zr(()=>U("span",{class:"emote__author"}," By: "+he("da-da-ya"),-1));function wh(e,t,s,n,i,o){return R(),B("div",dh,[U("div",ph,[U("img",{src:s.emoteUrl,alt:s.emoteName,class:"emote"},null,8,mh)]),U("div",gh,[U("span",_h,he(s.emoteName),1),bh,yh])])}const Ch=$e(hh,[["render",wh],["__scopeId","data-v-b879c0be"]]);var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}const Eh={},Sh=Object.freeze(Object.defineProperty({__proto__:null,default:Eh},Symbol.toStringTag,{value:"Module"})),Th=xh(Sh);let ct=class{constructor(){this._events=new Map,this._maxListeners=0}setMaxListeners(t){return this._maxListeners=t,this}emit(t,...s){if(t==="error"&&(!this._events.has("error")||!this._events.get("error").length))throw s[0]instanceof Error?s[0]:TypeError('Uncaught, unspecified "error" event.');const n=this._events.get(t);return n?(n.forEach(i=>i.apply(this,s)),!0):!1}emits(t,s){for(let n=0;n<t.length;n++){const i=n<s.length?s[n]:s[s.length-1];this.emit(t[n],...i)}}on(t,s){this._events.has(t)||this._events.set(t,[]);const n=this._events.get(t);if(this._maxListeners&&n.length>=this._maxListeners)throw Error(`Max listeners exceeded for event '${t}'`);return n.push(s),this}once(t,s){const n=(...i)=>{this.removeListener(t,n),s(...i)};return this.on(t,n)}off(t,s){const n=this._events.get(t);if(!n)return this;const i=n.indexOf(s);return i===-1?this:(n.splice(i,1),n.length===0&&this._events.delete(t),this)}removeAllListeners(t){return t?this._events.delete(t):this._events.clear(),this}listeners(t){return this._events.get(t)||[]}listenerCount(t){return this._events.get(t)?this._events.get(t).length:0}};ct.prototype.addListener=ct.prototype.on;ct.prototype.removeListener=ct.prototype.off;ct.EventEmitter=ct;ct.defaultMaxListeners=10;var $h=ct;let Oh=class{constructor(){this._levels={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},this._currentLevel="error"}_log(t,s){if(this._levels[t]<this._levels[this._currentLevel])return;const n=new Date,i=n.getHours(),o=n.getMinutes(),r=`${(i<10?"0":"")+i}:${(o<10?"0":"")+o}`;console.log(`[${r}] ${t}: ${s}`)}setLevel(t){this._currentLevel=t}getLevel(){return this._currentLevel}trace(t){this._log("trace",t)}debug(t){this._log("debug",t)}info(t){this._log("info",t)}warn(t){this._log("warn",t)}error(t){this._log("error",t)}fatal(t){this._log("fatal",t)}};var Ah=Oh,os={},kh={get exports(){return os},set exports(e){os=e}};const Ih=/^\u0001ACTION ([^\u0001]+)\u0001$/,Rh=/^(justinfan)(\d+$)/,Ph=/\\([sn:r\\])/g,Mh=/([ \n;\r\\])/g,Nh=/^oauth:/i,yo={s:" ",n:"",":":";",r:""},wo={" ":"s","\n":"n",";":":","\r":"r"},Lh=kh.exports={hasOwn:(e,t)=>({}).hasOwnProperty.call(e,t),promiseDelay:e=>new Promise(t=>setTimeout(t,e)),isInteger(e){return typeof e!="string"&&typeof e!="number"?!1:!isNaN(Math.round(e))},justinfan:()=>`justinfan${Math.floor(Math.random()*8e4+1e3)}`,isJustinfan:e=>Rh.test(e),channel(e){const t=(e||"").toLowerCase();return t[0]==="#"?t:`#${t}`},username(e){const t=(e||"").toLowerCase();return t[0]==="#"?t.slice(1):t},token:e=>e?e.replace(Nh,""):"",password(e){const t=Lh.token(e);return t?`oauth:${t}`:""},actionMessage:e=>e.match(Ih),unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC(e){return!e||typeof e!="string"||!e.includes("\\")?e:e.replace(Ph,(t,s)=>s in yo?yo[s]:s)},escapeIRC(e){return!e||typeof e!="string"?e:e.replace(Mh,(t,s)=>s in wo?`\\${wo[s]}`:s)},inherits(e,t){e.super_=t;const s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},Ss=os,St=/\S+/g;function vn(e,t,s=",",n="/",i){const o=e[t];if(o===void 0)return e;const r=typeof o=="string";if(e[`${t}-raw`]=r?o:null,o===!0)return e[t]=null,e;if(e[t]={},r){const a=o.split(s);for(let l=0;l<a.length;l++){const c=a[l].split(n);let[,f]=c;i!==void 0&&f&&(f=f.split(i)),e[t][c[0]]=f||null}}return e}var Uh={badges:e=>vn(e,"badges"),badgeInfo:e=>vn(e,"badge-info"),emotes:e=>vn(e,"emotes","/",":",","),emoteRegex(e,t,s,n){St.lastIndex=0;const i=new RegExp(`(\\b|^|\\s)${Ss.unescapeHtml(t)}(\\b|$|\\s)`);let o;for(;(o=St.exec(e))!==null;)i.test(o[0])&&(n[s]=n[s]||[],n[s].push([o.index,St.lastIndex-1]))},emoteString(e,t,s,n){St.lastIndex=0;let i;for(;(i=St.exec(e))!==null;)i[0]===Ss.unescapeHtml(t)&&(n[s]=n[s]||[],n[s].push([i.index,St.lastIndex-1]))},transformEmotes(e){let t="";return Object.keys(e).forEach(s=>{t=`${t}${s}:`,e[s].forEach(n=>t=`${t}${n.join("-")},`),t=`${t.slice(0,-1)}/`}),t.slice(0,-1)},formTags(e={}){const t=Object.entries(e).map(([s,n])=>`${Ss.escapeIRC(s)}=${Ss.escapeIRC(n)}`);return t.length?`@${t.join(";")}`:null},msg(e){const t={raw:e,tags:{},prefix:null,command:null,params:[]};let s=0,n=0;if(e.charCodeAt(0)===64){if(n=e.indexOf(" "),n===-1)return null;const i=e.slice(1,n).split(";");for(let o=0;o<i.length;o++){const r=i[o],a=r.split("=");t.tags[a[0]]=r.slice(r.indexOf("=")+1)||!0}s=n+1}for(;e.charCodeAt(s)===32;)s++;if(e.charCodeAt(s)===58){if(n=e.indexOf(" ",s),n===-1)return null;for(t.prefix=e.slice(s+1,n),s=n+1;e.charCodeAt(s)===32;)s++}if(n=e.indexOf(" ",s),n===-1)return e.length>s?(t.command=e.slice(s),t):null;for(t.command=e.slice(s,n),s=n+1;e.charCodeAt(s)===32;)s++;for(;s<e.length;){if(n=e.indexOf(" ",s),e.charCodeAt(s)===58){t.params.push(e.slice(s+1));break}if(n!==-1){for(t.params.push(e.slice(s,n)),s=n+1;e.charCodeAt(s)===32;)s++;continue}if(n===-1){t.params.push(e.slice(s));break}}return t}};let Fh=class{constructor(t){this.queue=[],this.index=0,this.defaultDelay=t===void 0?3e3:t}add(t,s){this.queue.push({fn:t,delay:s})}next(){const t=this.index++,s=this.queue[t];if(!s)return;const n=this.queue[this.index];if(s.fn(),n){const i=n.delay===void 0?this.defaultDelay:n.delay;setTimeout(()=>this.next(),i)}}};var Dh=Fh;const jh=typeof bo<"u"?bo:typeof window<"u"?window:{},Bh=jh.WebSocket??Th,Hh=$h,zh=Ah,Tt=Uh,qh=Dh,W=os;let Wh=class extends Hh{constructor(t){super(),this.opts=t??{},this.opts.channels=this.opts.channels??[],this.opts.connection=this.opts.connection??{},this.opts.identity=this.opts.identity??{},this.opts.options=this.opts.options??{},this.clientId=this.opts.options.clientId??null,this._globalDefaultChannel=W.channel(this.opts.options.globalDefaultChannel??"#tmijs"),this._skipMembership=this.opts.options.skipMembership??!1,this.maxReconnectAttempts=this.opts.connection.maxReconnectAttempts??1/0,this.maxReconnectInterval=this.opts.connection.maxReconnectInterval??3e4,this.reconnect=this.opts.connection.reconnect??!0,this.reconnectDecay=this.opts.connection.reconnectDecay??1.5,this.reconnectInterval=this.opts.connection.reconnectInterval??1e3,this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.currentLatency=0,this.latency=new Date,this.secure=this.opts.connection.secure??(!this.opts.connection.server&&!this.opts.connection.port),this.pingLoop=null,this.pingTimeout=null,this.wasCloseCalled=!1,this.reason="",this.ws=null,this.emotes="",this.emotesets={},this.username="",this.channels=[],this.globaluserstate={},this.userstate={},this.lastJoined="",this.moderators={},this.log=this.opts.logger??new zh;try{this.log.setLevel(this.opts.options.debug?"info":"error")}catch{}this.opts.channels.forEach((s,n,i)=>i[n]=W.channel(s)),this.setMaxListeners(0)}api(){throw new Error("The Client.api() method has been removed.")}handleMessage(t){if(!t)return;this.listenerCount("raw_message")&&this.emit("raw_message",JSON.parse(JSON.stringify(t)),t);const s=W.channel(t.params[0]??null),n=t.params[1]??null,i=t.tags["msg-id"]??null,o=t.tags=Tt.badges(Tt.badgeInfo(Tt.emotes(t.tags)));for(const r in o){if(r==="emote-sets"||r==="ban-duration"||r==="bits")continue;let a=o[r];typeof a=="boolean"?a=null:a==="1"?a=!0:a==="0"?a=!1:typeof a=="string"&&(a=W.unescapeIRC(a)),o[r]=a}if(t.prefix===null)switch(t.command){case"PING":this.emit("ping"),this._isConnected()&&this.ws.send("PONG");break;case"PONG":{this.currentLatency=(new Date().getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break}default:this.log.warn(`Could not parse message with no prefix:
${JSON.stringify(t,null,4)}`);break}else if(t.prefix==="tmi.twitch.tv")switch(t.command){case"002":case"003":case"004":case"372":case"375":case"CAP":break;case"001":[this.username]=t.params;break;case"376":{this.log.info("Connected to server."),this.userstate[this._globalDefaultChannel]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(()=>{this._isConnected()&&this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))},this.opts.connection.timeout??9999)},6e4);let r=this.opts.options.joinInterval??2e3;r<300&&(r=300);const a=new qh(r),l=[...new Set([...this.opts.channels,...this.channels])];this.channels=[];for(let c=0;c<l.length;c++){const f=l[c];a.add(()=>{this._isConnected()&&this.join(f).catch(p=>this.log.error(p))})}a.next();break}case"NOTICE":{const r=[null],a=[s,i,n],l=[i],c=[s,!0],f=[s,!1],p=[a,r],d=[a,l],m=`[${s}] ${n}`;switch(i){case"subs_on":this.log.info(`[${s}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[c,c,r]);break;case"subs_off":this.log.info(`[${s}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[f,f,r]);break;case"emote_only_on":this.log.info(`[${s}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[c,r]);break;case"emote_only_off":this.log.info(`[${s}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[f,r]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${s}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[c,c,r]);break;case"r9k_off":this.log.info(`[${s}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[f,f,r]);break;case"room_mods":{const b=n.split(": "),C=(b.length>1?b[1]:"").toLowerCase().split(", ").filter(M=>M);this.emits(["_promiseMods","mods"],[[null,C],[s,C]]);break}case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[s,[]]]);break;case"vips_success":{const b=(n.endsWith(".")?n.slice(0,-1):n).split(": "),C=(b.length>1?b[1]:"").toLowerCase().split(", ").filter(M=>M);this.emits(["_promiseVips","vips"],[[null,C],[s,C]]);break}case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[s,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_anon":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(m),this.emits(["notice","_promiseBan"],d);break;case"ban_success":this.log.info(m),this.emits(["notice","_promiseBan"],p);break;case"usage_clear":this.log.info(m),this.emits(["notice","_promiseClear"],d);break;case"usage_mods":this.log.info(m),this.emits(["notice","_promiseMods"],[a,[i,[]]]);break;case"mod_success":this.log.info(m),this.emits(["notice","_promiseMod"],p);break;case"usage_vips":this.log.info(m),this.emits(["notice","_promiseVips"],[a,[i,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":case"bad_vip_max_vips_reached":case"bad_vip_achievement_incomplete":this.log.info(m),this.emits(["notice","_promiseVip"],[a,[i,[]]]);break;case"vip_success":this.log.info(m),this.emits(["notice","_promiseVip"],p);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(m),this.emits(["notice","_promiseMod"],d);break;case"unmod_success":this.log.info(m),this.emits(["notice","_promiseUnmod"],p);break;case"unvip_success":this.log.info(m),this.emits(["notice","_promiseUnvip"],p);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(m),this.emits(["notice","_promiseUnmod"],d);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(m),this.emits(["notice","_promiseUnvip"],d);break;case"color_changed":this.log.info(m),this.emits(["notice","_promiseColor"],p);break;case"usage_color":case"turbo_only_color":this.log.info(m),this.emits(["notice","_promiseColor"],d);break;case"commercial_success":this.log.info(m),this.emits(["notice","_promiseCommercial"],p);break;case"usage_commercial":case"bad_commercial_error":this.log.info(m),this.emits(["notice","_promiseCommercial"],d);break;case"hosts_remaining":{this.log.info(m);const b=isNaN(n[0])?0:parseInt(n[0]);this.emits(["notice","_promiseHost"],[a,[null,~~b]]);break}case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(m),this.emits(["notice","_promiseHost"],[a,[i,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(m),this.emits(["notice","_promiseR9kbeta"],d);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(m),this.emits(["notice","_promiseR9kbetaoff"],d);break;case"timeout_success":this.log.info(m),this.emits(["notice","_promiseTimeout"],p);break;case"delete_message_success":this.log.info(`[${s} ${n}]`),this.emits(["notice","_promiseDeletemessage"],p);break;case"already_subs_off":case"usage_subs_off":this.log.info(m),this.emits(["notice","_promiseSubscribersoff"],d);break;case"already_subs_on":case"usage_subs_on":this.log.info(m),this.emits(["notice","_promiseSubscribers"],d);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(m),this.emits(["notice","_promiseEmoteonlyoff"],d);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(m),this.emits(["notice","_promiseEmoteonly"],d);break;case"usage_slow_on":this.log.info(m),this.emits(["notice","_promiseSlow"],d);break;case"usage_slow_off":this.log.info(m),this.emits(["notice","_promiseSlowoff"],d);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_anon":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(m),this.emits(["notice","_promiseTimeout"],d);break;case"untimeout_success":case"unban_success":this.log.info(m),this.emits(["notice","_promiseUnban"],p);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(m),this.emits(["notice","_promiseUnban"],d);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(m),this.emits(["notice","_promiseDeletemessage"],d);break;case"usage_unhost":case"not_hosting":this.log.info(m),this.emits(["notice","_promiseUnhost"],d);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted":case"whisper_restricted_recipient":this.log.info(m),this.emits(["notice","_promiseWhisper"],d);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":case"invalid_user":this.log.info(m),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff","_promiseWhisper"],[a,[i,s]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(m),this.emit("automod",s,i,n);break;case"unrecognized_cmd":this.log.info(m),this.emit("notice",s,i,n);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":case"unavailable_command":this.log.info(m),this.emit("notice",s,i,n);break;case"host_on":case"host_off":break;default:n.includes("Login unsuccessful")||n.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=n,this.log.error(this.reason),this.ws.close()):n.includes("Error logging in")||n.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=n,this.log.error(this.reason),this.ws.close()):n.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):(this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:
${JSON.stringify(t,null,4)}`),this.emit("notice",s,i,n));break}break}case"USERNOTICE":{const r=o["display-name"]||o.login,a=o["msg-param-sub-plan"]??"",l=W.unescapeIRC(o["msg-param-sub-plan-name"]??"")||null,f={prime:a.includes("Prime"),plan:a,planName:l},p=~~(o["msg-param-streak-months"]||0),d=o["msg-param-recipient-display-name"]||o["msg-param-recipient-user-name"],m=~~o["msg-param-mass-gift-count"];switch(o["message-type"]=i,i){case"resub":this.emits(["resub","subanniversary"],[[s,r,p,n,o,f]]);break;case"sub":this.emits(["subscription","sub"],[[s,r,f,n,o]]);break;case"subgift":this.emit("subgift",s,r,p,d,f,o);break;case"anonsubgift":this.emit("anonsubgift",s,p,d,f,o);break;case"submysterygift":this.emit("submysterygift",s,r,m,f,o);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",s,m,f,o);break;case"primepaidupgrade":this.emit("primepaidupgrade",s,r,f,o);break;case"giftpaidupgrade":{const b=o["msg-param-sender-name"]||o["msg-param-sender-login"];this.emit("giftpaidupgrade",s,r,b,o);break}case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",s,r,o);break;case"announcement":{const b=o["msg-param-color"];this.emit("announcement",s,o,n,!1,b);break}case"raid":{const b=o["msg-param-displayName"]||o["msg-param-login"],C=+o["msg-param-viewerCount"];this.emit("raided",s,b,C,o);break}default:this.emit("usernotice",i,s,o,n);break}break}case"HOSTTARGET":{const r=n.split(" "),a=~~r[1]||0;r[0]==="-"?(this.log.info(`[${s}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[s,a],[null]])):(this.log.info(`[${s}] Now hosting ${r[0]} for ${a} viewer(s).`),this.emit("hosting",s,r[0],a));break}case"CLEARCHAT":if(t.params.length>1){const r=t.tags["ban-duration"]??null;r===null?(this.log.info(`[${s}] ${n} has been banned.`),this.emit("ban",s,n,null,t.tags)):(this.log.info(`[${s}] ${n} has been timed out for ${r} seconds.`),this.emit("timeout",s,n,null,~~r,t.tags))}else this.log.info(`[${s}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[s],[null]]);break;case"CLEARMSG":if(t.params.length>1){const r=n,a=o.login;o["message-type"]="messagedeleted",this.log.info(`[${s}] ${a}'s message has been deleted.`),this.emit("messagedeleted",s,a,r,o)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect().catch(r=>this.log.error(r)),setTimeout(()=>this.connect().catch(r=>this.log.error(r)),this.reconnectTimer);break;case"USERSTATE":t.tags.username=this.username,t.tags["user-type"]==="mod"&&(this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].includes(this.username)||this.moderators[s].push(this.username)),!W.isJustinfan(this.getUsername())&&!this.userstate[s]&&(this.userstate[s]=o,this.lastJoined=s,this.channels.push(s),this.log.info(`Joined ${s}`),this.emit("join",s,W.username(this.getUsername()),!0)),t.tags["emote-sets"]!==this.emotes&&(this.emotes=t.tags["emote-sets"],this.emit("emotesets",this.emotes,null)),this.userstate[s]=o;break;case"GLOBALUSERSTATE":this.globaluserstate=o,this.emit("globaluserstate",o),t.tags["emote-sets"]!==void 0&&t.tags["emote-sets"]!==this.emotes&&(this.emotes=t.tags["emote-sets"],this.emit("emotesets",this.emotes,null));break;case"ROOMSTATE":if(W.channel(this.lastJoined)===s&&this.emit("_promiseJoin",null,s),t.tags.channel=s,this.emit("roomstate",s,t.tags),!W.hasOwn(t.tags,"subs-only")){if(W.hasOwn(t.tags,"slow"))if(typeof t.tags.slow=="boolean"&&!t.tags.slow){const r=[s,!1,0];this.log.info(`[${s}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[r,r,[null]])}else{const r=~~t.tags.slow,a=[s,!0,r];this.log.info(`[${s}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[a,a,[null]])}if(W.hasOwn(t.tags,"followers-only"))if(t.tags["followers-only"]==="-1"){const r=[s,!1,0];this.log.info(`[${s}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[r,r,[null]])}else{const r=~~t.tags["followers-only"],a=[s,!0,r];this.log.info(`[${s}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[a,a,[null]])}}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:
${JSON.stringify(t,null,4)}`);break}else if(t.prefix==="jtv")switch(t.command){case"MODE":n==="+o"?(this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].includes(t.params[2])||this.moderators[s].push(t.params[2]),this.emit("mod",s,t.params[2])):n==="-o"&&(this.moderators[s]||(this.moderators[s]=[]),this.moderators[s].filter(r=>r!==t.params[2]),this.emit("unmod",s,t.params[2]));break;default:this.log.warn(`Could not parse message from jtv:
${JSON.stringify(t,null,4)}`);break}else switch(t.command){case"353":this.emit("names",t.params[2],t.params[3].split(" "));break;case"366":break;case"JOIN":{const[r]=t.prefix.split("!"),a=this.username===r;a&&W.isJustinfan(this.getUsername())?(this.lastJoined=s,this.channels.push(s),this.log.info(`Joined ${s}`),this.emit("join",s,r,!0)):a||this.emit("join",s,r,!1);break}case"PART":{const[r]=t.prefix.split("!"),a=this.username===r;if(a){this.userstate[s]&&delete this.userstate[s];let l=this.channels.indexOf(s);l!==-1&&this.channels.splice(l,1),l=this.opts.channels.indexOf(s),l!==-1&&this.opts.channels.splice(l,1),this.log.info(`Left ${s}`),this.emit("_promisePart",null)}this.emit("part",s,r,a);break}case"WHISPER":{const[r]=t.prefix.split("!");this.log.info(`[WHISPER] <${r}>: ${n}`),W.hasOwn(t.tags,"username")||(t.tags.username=r),t.tags["message-type"]="whisper";const a=W.channel(t.tags.username);this.emits(["whisper","message"],[[a,t.tags,n,!1]]);break}case"PRIVMSG":if([t.tags.username]=t.prefix.split("!"),t.tags.username==="jtv"){const r=W.username(n.split(" ")[0]),a=n.includes("auto");if(n.includes("hosting you for")){let l=0;const c=n.split(" ");for(let f=0;f<c.length;f++)if(W.isInteger(c[f])){l=~~c[f];break}this.emit("hosted",s,r,l,a)}else n.includes("hosting you")&&this.emit("hosted",s,r,0,a)}else{const r=this.opts.options.messagesLogLevel??"info",a=W.actionMessage(n);t.tags["message-type"]=a?"action":"chat";const l=a?a[1]:n;if(W.hasOwn(t.tags,"bits"))this.emit("cheer",s,t.tags,l);else{if(W.hasOwn(t.tags,"msg-id")){if(t.tags["msg-id"]==="highlighted-message"){const c=t.tags["msg-id"];this.emit("redeem",s,t.tags.username,c,t.tags,l)}else if(t.tags["msg-id"]==="skip-subs-mode-message"){const c=t.tags["msg-id"];this.emit("redeem",s,t.tags.username,c,t.tags,l)}}else if(W.hasOwn(t.tags,"custom-reward-id")){const c=t.tags["custom-reward-id"];this.emit("redeem",s,t.tags.username,c,t.tags,l)}a?(this.log[r](`[${s}] *<${t.tags.username}>: ${l}`),this.emits(["action","message"],[[s,t.tags,l,!1]])):(this.log[r](`[${s}] <${t.tags.username}>: ${l}`),this.emits(["chat","message"],[[s,t.tags,l,!1]]))}}break;default:this.log.warn(`Could not parse message:
${JSON.stringify(t,null,4)}`);break}}connect(){return new Promise((t,s)=>{this.server=this.opts.connection.server??"irc-ws.chat.twitch.tv",this.port=this.opts.connection.port??80,this.secure&&(this.port=443),this.port===443&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",n=>{n?s(n):t([this.server,~~this.port])})})}_openConnection(){const t=`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,s={};"agent"in this.opts.connection&&(s.agent=this.opts.connection.agent),this.ws=new Bh(t,"irc",s),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)}_onOpen(){this._isConnected()&&(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=W.username(this.opts.identity.username??W.justinfan()),this._getToken().then(t=>{const s=W.password(t);this.log.info("Sending authentication to server.."),this.emit("logon");let n="twitch.tv/tags twitch.tv/commands";this._skipMembership||(n+=" twitch.tv/membership"),this.ws.send(`CAP REQ :${n}`),s?this.ws.send(`PASS ${s}`):W.isJustinfan(this.username)&&this.ws.send("PASS SCHMOOPIIE"),this.ws.send(`NICK ${this.username}`)}).catch(t=>{this.emits(["_promiseConnect","disconnected"],[[t],["Could not get a token."]])}))}_getToken(){const t=this.opts.identity.password,s=typeof t=="function"?t():t;return Promise.resolve(s)}_onMessage(t){t.data.trim().split(`\r
`).forEach(n=>{const i=Tt.msg(n);i&&this.handleMessage(i)})}_onError(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=this.ws===null?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections++,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(t=>this.log.error(t))},this.reconnectTimer)),this.ws=null}_onClose(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),!this.wasCloseCalled&&this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),!this.wasCloseCalled&&this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections++,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(t=>this.log.error(t))},this.reconnectTimer))),this.ws=null}_getPromiseDelay(){return Math.max(600,this.currentLatency*1e3+100)}_sendCommand({delay:t,channel:s,command:n,tags:i},o){return new Promise((r,a)=>{if(this._isConnected())(t===null||typeof t=="number")&&(t===null&&(t=this._getPromiseDelay()),W.promiseDelay(t).then(()=>a("No response from Twitch.")));else return a("Not connected to server.");const l=Tt.formTags(i);if(typeof s=="string"){const c=W.channel(s);this.log.info(`[${c}] Executing command: ${n}`),this.ws.send(`${l?`${l} `:""}PRIVMSG ${c} :${n}`)}else this.log.info(`Executing command: ${n}`),this.ws.send(`${l?`${l} `:""}${n}`);typeof o=="function"?o(r,a):r()})}_sendMessage({channel:t,message:s,tags:n},i){return new Promise((o,r)=>{if(this._isConnected()){if(W.isJustinfan(this.getUsername()))return r("Cannot send anonymous messages.")}else return r("Not connected to server.");const a=W.channel(t);if(this.userstate[a]||(this.userstate[a]={}),s.length>500){const m=s;let b=m.slice(0,500).lastIndexOf(" ");b===-1&&(b=500),s=m.slice(0,b),setTimeout(()=>this._sendMessage({channel:t,message:m.slice(b),tags:n}),350)}const l=Tt.formTags(n);this.ws.send(`${l?`${l} `:""}PRIVMSG ${a} :${s}`);const c=Object.assign({},this.userstate[a],{emotes:null}),f=this.opts.options.messagesLogLevel??"info",p=W.actionMessage(s);p?(c["message-type"]="action",this.log[f](`[${a}] *<${this.getUsername()}>: ${p[1]}`),this.emits(["action","message"],[[a,c,p[1],!0]])):(c["message-type"]="chat",this.log[f](`[${a}] <${this.getUsername()}>: ${s}`),this.emits(["chat","message"],[[a,c,s,!0]])),typeof i=="function"?i(o,r):o()})}getUsername(){return this.username}getOptions(){return this.opts}getChannels(){return this.channels}isMod(t,s){const n=W.channel(t);return this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].includes(W.username(s))}readyState(){return this.ws===null?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]}_isConnected(){return this.ws!==null&&this.ws.readyState===1}disconnect(){return new Promise((t,s)=>{this.ws!==null&&this.ws.readyState!==3?(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",()=>t([this.server,~~this.port]))):(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),s("Cannot disconnect from server. Socket is not opened or connection is already closing."))})}};var Vh=Wh;const Jh=Vh,L=os;let ae=class extends Jh{action(t,s,n){return s=`ACTION ${s}`,this._sendMessage({delay:this._getPromiseDelay(),channel:t,message:s,tags:n},(i,o)=>i([L.channel(t),s]))}announce(t,s){return this._sendMessage({channel:t,message:`/announce ${s}`},(n,i)=>n([L.channel(t),s]))}ban(t,s,n){return s=L.username(s),n=n??"",this._sendCommand({channel:t,command:`/ban ${s} ${n}`},(i,o)=>this.once("_promiseBan",r=>r?o(r):i([L.channel(t),s,n])))}clear(t){return this._sendCommand({channel:t,command:"/clear"},(s,n)=>this.once("_promiseClear",i=>i?n(i):s([L.channel(t)])))}color(t,s){return t=s??t,this._sendCommand({channel:this._globalDefaultChannel,command:`/color ${t}`},(n,i)=>this.once("_promiseColor",o=>o?i(o):n([t])))}commercial(t,s){return s=s??30,this._sendCommand({channel:t,command:`/commercial ${s}`},(n,i)=>this.once("_promiseCommercial",o=>o?i(o):n([L.channel(t),~~s])))}deletemessage(t,s){return this._sendCommand({channel:t,command:`/delete ${s}`},(n,i)=>this.once("_promiseDeletemessage",o=>o?i(o):n([L.channel(t)])))}emoteonly(t){return this._sendCommand({channel:t,command:"/emoteonly"},(s,n)=>this.once("_promiseEmoteonly",i=>i?n(i):s([L.channel(t)])))}emoteonlyoff(t){return this._sendCommand({channel:t,command:"/emoteonlyoff"},(s,n)=>this.once("_promiseEmoteonlyoff",i=>i?n(i):s([L.channel(t)])))}followersonly(t,s){return s=s??30,this._sendCommand({channel:t,command:`/followers ${s}`},(n,i)=>this.once("_promiseFollowers",o=>o?i(o):n([L.channel(t),~~s])))}followersonlyoff(t){return this._sendCommand({channel:t,command:"/followersoff"},(s,n)=>this.once("_promiseFollowersoff",i=>i?n(i):s([L.channel(t)])))}host(t,s){return s=L.username(s),this._sendCommand({delay:2e3,channel:t,command:`/host ${s}`},(n,i)=>this.once("_promiseHost",(o,r)=>o?i(o):n([L.channel(t),s,~~r])))}join(t){return t=L.channel(t),this._sendCommand({delay:void 0,channel:null,command:`JOIN ${t}`},(s,n)=>{const i="_promiseJoin";let o=!1;const r=(l,c)=>{t===L.channel(c)&&(this.removeListener(i,r),o=!0,l?n(l):s([t]))};this.on(i,r);const a=this._getPromiseDelay();L.promiseDelay(a).then(()=>{o||this.emit(i,"No response from Twitch.",t)})})}mod(t,s){return s=L.username(s),this._sendCommand({channel:t,command:`/mod ${s}`},(n,i)=>this.once("_promiseMod",o=>o?i(o):n([L.channel(t),s])))}mods(t){return t=L.channel(t),this._sendCommand({channel:t,command:"/mods"},(s,n)=>{this.once("_promiseMods",(i,o)=>{i?n(i):(o.forEach(r=>{this.moderators[t]||(this.moderators[t]=[]),this.moderators[t].includes(r)||this.moderators[t].push(r)}),s(o))})})}part(t){return this._sendCommand({delay:null,channel:null,command:`PART ${t}`},(s,n)=>this.once("_promisePart",i=>i?n(i):s([L.channel(t)])))}ping(){return this._sendCommand({delay:null,command:"PING"},(t,s)=>{this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))},this.opts.connection.timeout??9999),this.once("_promisePing",n=>t([parseFloat(n)]))})}r9kbeta(t){return this._sendCommand({channel:t,command:"/r9kbeta"},(s,n)=>this.once("_promiseR9kbeta",i=>i?n(i):s([L.channel(t)])))}r9kbetaoff(t){return this._sendCommand({channel:t,command:"/r9kbetaoff"},(s,n)=>this.once("_promiseR9kbetaoff",i=>i?n(i):s([L.channel(t)])))}raw(t,s){return this._sendCommand({channel:null,command:t,tags:s},(n,i)=>n([t]))}reply(t,s,n,i={}){if(typeof n=="object"&&(n=n.id),!n||typeof n!="string")throw new Error("replyParentMsgId is required.");return this.say(t,s,{...i,"reply-parent-msg-id":n})}say(t,s,n){return t=L.channel(t),s.startsWith(".")&&!s.startsWith("..")||s.startsWith("/")||s.startsWith("\\")?s.slice(1,4)==="me "?this.action(t,s.slice(4)):this._sendCommand({channel:t,message:s,tags:n},(i,o)=>i([t,s])):this._sendMessage({delay:this._getPromiseDelay(),channel:t,message:s,tags:n},(i,o)=>i([t,s]))}slow(t,s){return s=s??300,this._sendCommand({channel:t,command:`/slow ${s}`},(n,i)=>this.once("_promiseSlow",o=>o?i(o):n([L.channel(t),~~s])))}slowoff(t){return this._sendCommand({channel:t,command:"/slowoff"},(s,n)=>this.once("_promiseSlowoff",i=>i?n(i):s([L.channel(t)])))}subscribers(t){return this._sendCommand({channel:t,command:"/subscribers"},(s,n)=>this.once("_promiseSubscribers",i=>i?n(i):s([L.channel(t)])))}subscribersoff(t){return this._sendCommand({channel:t,command:"/subscribersoff"},(s,n)=>this.once("_promiseSubscribersoff",i=>i?n(i):s([L.channel(t)])))}timeout(t,s,n,i){return s=L.username(s),(n??!1)&&!L.isInteger(n)&&(i=n,n=300),n=n??300,i=i??"",this._sendCommand({channel:t,command:`/timeout ${s} ${n} ${i}`},(o,r)=>this.once("_promiseTimeout",a=>a?r(a):o([L.channel(t),s,~~n,i])))}unban(t,s){return s=L.username(s),this._sendCommand({channel:t,command:`/unban ${s}`},(n,i)=>this.once("_promiseUnban",o=>o?i(o):n([L.channel(t),s])))}unhost(t){return this._sendCommand({delay:2e3,channel:t,command:"/unhost"},(s,n)=>this.once("_promiseUnhost",i=>i?n(i):s([L.channel(t)])))}unmod(t,s){return s=L.username(s),this._sendCommand({channel:t,command:`/unmod ${s}`},(n,i)=>this.once("_promiseUnmod",o=>o?i(o):n([L.channel(t),s])))}unvip(t,s){return s=L.username(s),this._sendCommand({channel:t,command:`/unvip ${s}`},(n,i)=>this.once("_promiseUnvip",o=>o?i(o):n([L.channel(t),s])))}vip(t,s){return s=L.username(s),this._sendCommand({channel:t,command:`/vip ${s}`},(n,i)=>this.once("_promiseVip",o=>o?i(o):n([L.channel(t),s])))}vips(t){return this._sendCommand({channel:t,command:"/vips"},(s,n)=>this.once("_promiseVips",(i,o)=>i?n(i):s(o)))}whisper(t,s){return t=L.username(t),t===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand({delay:null,channel:this._globalDefaultChannel,command:`/w ${t} ${s}`},(n,i)=>this.once("_promiseWhisper",o=>o&&i(o))).catch(n=>{if(n&&typeof n=="string"&&n.indexOf("No response from Twitch.")!==0)throw n;const i=L.channel(t),o=Object.assign({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);return this.emits(["whisper","message"],[[i,o,s,!0]]),[t,s]})}};ae.prototype.followersmode=ae.prototype.followersonly;ae.prototype.followersmodeoff=ae.prototype.followersonlyoff;ae.prototype.leave=ae.prototype.part;ae.prototype.slowmode=ae.prototype.slow;ae.prototype.r9kmode=ae.prototype.r9kbeta;ae.prototype.uniquechat=ae.prototype.r9kbeta;ae.prototype.r9kmodeoff=ae.prototype.r9kbetaoff;ae.prototype.uniquechatoff=ae.prototype.r9kbeta;ae.prototype.slowmodeoff=ae.prototype.slowoff;var Kh=ae;const Co=Kh;var Qh={client:Co,Client:Co};function Gh(e){return Object.entries(e).reduce((t,[s,n])=>t+"&"+(Array.isArray(n)?n:[n]).map(i=>encodeURIComponent(s)+"="+encodeURIComponent(i)).join("&"),"").slice(1)}class Zh extends Error{constructor(t,s){super(`Invalid helix token(${s.slice(0,4).padEnd(s.length,"#")}): ${t}`)}}class Ci extends Qh.Client{constructor({helix:s,...n}){super(n);Fe(this,"helixParams",new Promise((s,n)=>n(new Error("Helix is not inited"))));Fe(this,"cachedUsers",new Map);Fe(this,"HELIX_BASE_URL","https://api.twitch.tv/helix");this.helixParams.catch(()=>{}),s!=null&&s.token&&this.helixInit(s),this.on("message",(i,o,r,a)=>{a||this._updateUserInfo(+o["user-id"],o.username,o["display-name"])})}_updateUserInfo(s,n,i){if(!this.cachedUsers.has(s))this.cachedUsers.set(s,{id:s,username:n,displayName:i});else{const o=this.cachedUsers.get(s);o.username=n,o.displayName=i}}getCachedUserinfoById(s){return this.cachedUsers.has(s)?{...this.cachedUsers.get(s)}:null}async getUserById(s){const i=(await this.helixApi("/users",{id:""+s})).data;for(const o of i)this._updateUserInfo(+o.id,o.login,o.display_name);return i.find(o=>+o.id==s)??i[0]}async helixInit(s){return this.helixParams=Ci.helixValidate(s.token).then(n=>({...n,access_token:s.token})),await this.helixParams,!0}static async helixValidate(s){const n=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:"OAuth "+s}}).then(i=>i.json());if(n.message)throw new Zh(n.message,s);return n.expires_at=new Date(Date.now()+n.expires_in),n}async helixApi(s,n={},i="GET",o=!1){o&&!(o instanceof String)&&typeof o!="string"&&(o=JSON.stringify(o));const r=await this.helixParams,a=await fetch(this.HELIX_BASE_URL+s+"?"+Gh(n),{method:i,headers:{Authorization:"Bearer "+r.access_token,"Client-Id":r.client_id,...o?{"Content-Type":"application/json"}:{}},...o?{body:o}:{}}),l=await a.json();return l.response_code=a.status,l}say(s,n){return(n.startsWith("\\")||n==".")&&(n=" "+n),n.startsWith(".")&&!n.startsWith("..")||n.startsWith("/")||n.startsWith("\\")?n.slice(1,4)=="me "?super.action(s,n.slice(4)):(console.warn("Commands other than /me not yet implemented"),new Promise(i=>i(["Commands other than /me not yet implemented"]))):super.say(s,n)}}const Xh="k1fa427fx4lbvvtj9di5woy6vpzeh9",Yh=location.origin+"/",vo=e=>new Map(e.split("&").map(t=>t.split("=",2).map(s=>decodeURIComponent(s.split("+").join(" "))))),ed=e=>(e instanceof Map?Array.from(e.entries()):Object.entries(e)).map(t=>t.map(s=>encodeURIComponent(s.toString())).join("=")).join("&"),xo=Ci,Eo=Ja(0),td={inject:["cosmeticClient"],components:{ChatHearder:Bc,Chat:Wf,ChatInput:Gf,Dialog:th,QuartersLoader:Qr,nDialog:Tr,UserCard:fh,EmoteCard:Ch},data(){return{connected:!1,title:"Select the channel z",client:null,sendClient:null,settings:Gt.getInstacne(),selected_auth_user_login:vo(location.search.slice(1)).get("user")??null,userDialogShown:!1}},computed:{auths:{get(){Eo.value;try{const e=JSON.parse(localStorage.getItem("auths")??"[]");return e.save=function(){localStorage.setItem("auths",JSON.stringify(this))},Qe(e)}catch(e){return console.error("Error parsing auths info:",e),Qe({error:!0})}},set(e){Eo.value++;try{localStorage.setItem("auths",JSON.stringify(e))}catch(t){console.error("Error writing auths info:",t,e)}}},auth(){const e=Array.isArray(this.auths)?this.selected_auth_user_login?this.auths.find(t=>t.login==this.selected_auth_user_login):this.auths[0]:this.auths;return e?e.login?e.access_token?Object.freeze({...e}):(console.warn("Bad auth: no access_token"),!1):(console.warn("Bad auth: no login"),!1):(console.warn("No auth"),!1)}},methods:{initializeClient:async function(){if(this.connected)return;if(location.hash.includes("access_token")){const t=vo(location.hash.slice(1));location.hash="#",await this.handleAuth(t)}const e=JSON.parse(localStorage.getItem("oauth")??"{}");if(e.password)if(this.auths.find(t=>t.login==e.username))localStorage.removeItem("oauth");else{const t=e.password.startsWith("oauth:")?e.password.slice(6):e.password,s=new Map;s.set("access_token",t),await this.handleAuth(s)}this.initSendClient(),this.initReadClient()},newAuth(){location.href="https://id.twitch.tv/oauth2/authorize?"+ed({response_type:"token",client_id:localStorage.getItem("dev_client_id")??Xh,redirect_uri:localStorage.getItem("dev_redirect_uri")??Yh,scope:["user:manage:whispers","user:read:follows","user:manage:chat_color","user:manage:blocked_users","moderator:manage:chat_settings","moderator:read:chat_settings","moderator:manage:chat_messages","moderator:manage:blocked_terms","moderation:read","channel:manage:vips","channel:read:vips","chat:edit","chat:read","whispers:read","whispers:edit"].join(" ")})},async handleAuth(e){console.log("loginInfo",e);const t=e.get("access_token");if(!t){console.log("loginInfo hasn't 'access_token'");return}const s=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:"OAuth "+t}}).then(r=>r.json());if(!s.client_id){console.error("tokenInfo: no client_id");return}if(!s.login){console.error("tokenInfo: no login");return}if(!s.user_id){console.error("tokenInfo: no user_id");return}s.scopes||console.log("tokenInfo: no scopes"),s.expires_in||console.log("tokenInfo: no expires_in");const n=Date.now()+s.expires_in,i=this.auths;let o;Array.isArray(i)?(o=i.find(r=>r.user_id==s.user_id),o||(o={},i.push(o))):o={},o.client_id=s.client_id,o.login=s.login,o.scopes=s.scopes,o.user_id=s.user_id,o.expires_at=n,o.access_token=t,i.save()},initSendClient(){if(this.auth){const e=new xo({identity:{username:this.auth.login,password:this.auth.access_token}});e.connect().then(()=>{this.sendClient&&this.sendClient!==e&&(this.sendClient.disconnect(),this.sendClient.removeAllListeners()),this.sendClient=e})}},async initReadClient(){localStorage.getItem("channels")||localStorage.setItem("channels",JSON.stringify(["#zakvielchannel","#romainstant1","#egrorbs"]));const e=JSON.parse(localStorage.getItem("channels")),t=new xo({...this.auth?{identity:{username:this.auth.login,password:this.auth.access_token}}:{},channels:e});this.auth&&(t.username=this.auth.login),this.connected=!0,await t.connect(),this.client&&this.client!==t&&(this.client.disconnect(),this.client.removeAllListeners()),this.client=t}},async mounted(){(async()=>{let e=await(await fetch("https://badges.twitch.tv/v1/badges/global/display")).json();this.settings.globalBadges=e.badge_sets})(),document.querySelector("body").style.setProperty("--size","1vh"),await this.cosmeticClient.init(),console.log("test ",this.cosmeticClient.getCosmetic("73227142")),await this.initializeClient()},unmounted(){this.client&&(this.client.disconnect(),this.client.removeAllListeners()),this.sendClient&&(this.sendClient.disconnect(),this.sendClient.removeAllListeners())}},sd={class:"main-container"},nd={key:3,class:"chat-input auth-container"},id={key:4,class:"chat-input"};function od(e,t,s,n,i,o){const r=je("ChatHearder"),a=je("Chat"),l=je("QuartersLoader"),c=je("ChatInput"),f=je("EmoteCard"),p=je("nDialog");return R(),B("div",sd,[be(r,{title:i.title},null,8,["title"]),i.client?(R(),Ke(a,{key:0,client:i.client,channelLogin:"pwgood",channelId:"116738112",messageHistoryLength:150},null,8,["client"])):(R(),Ke(l,{key:1,style:Pe({"--loader-size":"min(10vh, 10vw)"}),class:"loading"},null,8,["style"])),i.sendClient?(R(),Ke(c,{key:2,class:"chat-input",client:i.sendClient,channelLogin:"pwgood",channelId:"116738112"},null,8,["client"])):o.auth?(R(),B("div",id,[be(l,{class:"loading",style:{"--loader-size":"2vh"}}),ss(" Connecting to chat... ")])):(R(),B("div",nd,[U("button",{onClick:t[0]||(t[0]=(...d)=>o.newAuth&&o.newAuth(...d))}," Go Auth ")])),i.userDialogShown?(R(),Ke(p,{key:5,onClose:t[1]||(t[1]=d=>i.userDialogShown=!1)},{default:ui(()=>[be(f,{emoteName:"Pepega",emoteUrl:"https://cdn.frankerfacez.com/emote/304681/4"},null,8,["emoteUrl"])]),_:1})):ks("",!0)])}const rd=$e(td,[["render",od]]);var Xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=new CustomEvent("long-press-stop"),s=new CustomEvent("long-press-start");e.directiveOption={bind:function(n,i,o){n.dataset.longPressTimeoutId="0";var r=function(){clearTimeout(parseInt(n.dataset.longPressTimeoutId)),o.componentInstance?o.componentInstance.$emit("long-press-stop"):n.dispatchEvent(t),document.removeEventListener("pointerup",r)},a=function(){document.addEventListener("pointerup",r);var l=setTimeout(function(){o.componentInstance?o.componentInstance.$emit("long-press-start"):n.dispatchEvent(s)},i.value);n.dataset.longPressTimeoutId=l.toString()};n.$_long_press_pointerdown_handler=a,n.addEventListener("pointerdown",a)},unbind:function(n){clearTimeout(parseInt(n.dataset.longPressTimeoutId)),n.removeEventListener("pointerdown",n.$_long_press_pointerdown_handler)}},e.default=e.directiveOption})(Xr);const So=vh(Xr);var Rt,rs,X,as,Wn,ls,Vn,cs,Jn,us,Kn,fs,Qn,Hs,Yr;const Ei=class{constructor(t){Ae(this,as);Ae(this,ls);Ae(this,cs);Ae(this,us);Ae(this,fs);Ae(this,Hs);Ae(this,Rt,Date.now());Ae(this,rs,!0);Ae(this,X,new Map);bs(this,rs,t.insertCosmetic)}async updateData(){xe(this,as,Wn).call(this,"Update data"),bs(this,Rt,Date.now());let s=await(await fetch("https://7tv.io/v2/cosmetics?user_identifier=twitch_id")).json();bs(this,X,new Map),await xe(this,ls,Vn).call(this),await xe(this,cs,Jn).call(this),await xe(this,us,Kn).call(this),xe(this,fs,Qn).call(this,s)}async init(){let s=await(await fetch("https://7tv.io/v2/cosmetics?user_identifier=twitch_id")).json();Z(this,rs)&&xe(this,Hs,Yr).call(this,s.paints),await xe(this,ls,Vn).call(this),await xe(this,cs,Jn).call(this),await xe(this,us,Kn).call(this),xe(this,fs,Qn).call(this,s),xe(this,as,Wn).call(this,"Badges and paints loaded")}getCosmetic(t){return Z(this,Rt)+6e5<Date.now()&&this.updateData(),Z(this,X).has(t)?Z(this,X).get(t+""):null}hasCosmetic(t){return Z(this,Rt)+6e5<Date.now()&&this.updateData(),Z(this,X).has(t)}static insertPaintStyle(t){const s=ad();if(!s){console.error("<Cosmetics> Could not find paint stylesheet");return}const n=`--seventv-paint-${t.id}`,i=t.function.toLowerCase().replace("_","-"),o=(()=>{const a=[];switch(t.function){case"linear-gradient":a.push(`${t.angle}deg`);break;case"radial-gradient":a.push(t.shape??"circle");break;case"url":a.push(t.image_url??"");break}let l="";t.function!="url"&&(l=t.repeat?"repeating-":"");for(const c of t.stops){const f=To(c.color);a.push(`${f} ${c.at*100}%`)}return`${l}${i}(${a.join(", ")})`})(),r=(()=>t.drop_shadows?t.drop_shadows.map(a=>`drop-shadow(${a.x_offset}px ${a.y_offset}px ${a.radius}px ${To(a.color)})`).join(" "):"")();s.insertRule(` :root { ${n}-bg: ${o}; ${n}-filter: ${r}; } `,s.cssRules.length)}};let qn=Ei;Rt=new WeakMap,rs=new WeakMap,X=new WeakMap,as=new WeakSet,Wn=function(t){console.log(`[%cCosmeticClient%c] ${t}`,"color:orange","color:white")},ls=new WeakSet,Vn=async function(){const s=await(await fetch("https://api.frankerfacez.com/v1/badges/ids")).json();for(let n in s.users){let i=s.badges.find(o=>o.id+""==n);for(let o of s.users[n])Z(this,X).has(o+"")?Z(this,X).get(o+"").badges.push(i.urls[1]):Z(this,X).set(o+"",{badges:[i.urls[1]]})}},cs=new WeakSet,Jn=async function(){const s=await(await fetch("https://api.betterttv.net/3/cached/badges/twitch")).json();for(let n of s)Z(this,X).has(n.providerId)&&Z(this,X).get(n.providerId+"").badges?Z(this,X).get(n.providerId+"").badges.push(n.badge.svg):Z(this,X).set(n.providerId+"",{badges:[n.badge.svg]})},us=new WeakSet,Kn=async function(){const s=await(await fetch("https://api.chatterino.com/badges")).json();for(let n of s.badges)for(let i of n.users)Z(this,X).has(i+"")?Z(this,X).get(i+"").badges.push(n.image1):Z(this,X).set(i+"",{badges:[n.image1]})},fs=new WeakSet,Qn=function(t){for(let s of t.paints)for(let n of s.users)Z(this,X).has(n+"")?Z(this,X).get(n+"").paint_id=s.id:Z(this,X).set(n+"",{paint_id:s.id,badges:[]});for(let s of t.badges)for(let n of s.users)Z(this,X).has(n+"")?Z(this,X).get(n+"").badges.push(`https://cdn.7tv.app/badge/${s.id}/1x`):Z(this,X).set(n+"",{badges:[`https://cdn.7tv.app/badge/${s.id}/1x`]})},Hs=new WeakSet,Yr=function(t){for(let s of t)Ei.insertPaintStyle(s)};const To=e=>{const t=e>>>24&255,s=e>>>16&255,n=e>>>8&255,i=e&255;return`rgba(${t}, ${s}, ${n}, ${(i/255).toFixed(3)})`};let xn=null;function ad(){if(xn)return xn;const e=document.createElement("link");e.type="text/css",e.rel="stylesheet";const t=document.createElement("style");return t.id="seventv-paint-styles",document.head.appendChild(t),xn=t.sheet??null}if(location.origin=="https://localhost"){const e=document.createElement("script");e.src="https://localhost/cordova.js",e.defer=!0,document.head.append(e)}const vi=Mc(rd),ld=new qn({insertCosmetic:!0});vi.provide("cosmeticClient",ld);vi.directive("long-press",{mounted(e,t,s,n){So.bind(e,t,s)},unmounted(e,t,s,n){So.unbind(e)}});vi.mount("#app");
